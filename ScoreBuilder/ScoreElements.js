xmlns="http://www.w3.org/2000/svg";
xlink="http://www.w3.org/1999/xlink"; 


function DrawParalelLines(amount, length, gap) {
    var scoreLineObj = $G.create("path"), //create the lines object
        dPath = "";

    for(var i = 0; i < amount; i++) {
        var yCoord = (i*gap).toString();
        dPath += "M0," + yCoord + " " + length + "," + yCoord;
    }

    scoreLineObj.setAttribute("d", dPath); //draw the lines
    scoreLineObj.setAttribute("stroke", "#000");  //set lines color

    return scoreLineObj;
}


//Function to Draw score clefs
function DrawScoreClef(clef) {
    var clefElem = document.createElementNS(xmlns, "path");  //create new path

    switch(clef) {

        case "G2":
            clefElem.setAttribute("d", "M20.482,37.557c-1.598,0.521-2.917,1.401-3.96,2.64c-1.042,1.237-1.678,2.59-1.907,4.057c-0.227,1.466-0.039,2.916,0.563,4.35c0.602,1.434,1.735,2.59,3.396,3.471c0.391,0,0.637,0.163,0.734,0.488c0.097,0.326-0.05,0.489-0.439,0.489c-1.598-0.326-2.999-0.994-4.205-2.004c-2.248-1.857-3.486-4.251-3.714-7.185c-0.13-1.466,0.008-2.884,0.416-4.252c0.407-1.369,0.97-2.624,1.688-3.764c0.879-1.205,1.922-2.249,3.128-3.128c0.064-0.065,0.252-0.212,0.561-0.44c0.311-0.229,0.612-0.44,0.905-0.636c0.293-0.195,0.732-0.505,1.318-0.929l-1.807-8.7c-1.597,1.335-3.178,2.81-4.742,4.423c-1.564,1.613-2.981,3.316-4.252,5.108c-1.271,1.792-2.29,3.69-3.055,5.695c-0.766,2.004-1.148,4.114-1.148,6.33c0,2.053,0.432,3.984,1.295,5.792c0.864,1.809,2.013,3.381,3.446,4.716c1.435,1.336,3.088,2.388,4.962,3.154c1.873,0.766,3.771,1.148,5.693,1.148c0.066,0,0.368-0.033,0.905-0.099c0.537-0.064,1.107-0.146,1.709-0.244c0.604-0.097,1.159-0.204,1.664-0.317c0.504-0.115,0.758-0.237,0.758-0.366l-0.294-1.37C22.828,49.565,21.622,43.422,20.482,37.557z M22.192,37.361l4.009,19.406c2.313-0.881,3.876-2.388,4.691-4.521c0.815-2.134,1.002-4.302,0.563-6.501c-0.44-2.2-1.474-4.147-3.104-5.842C26.721,38.208,24.669,37.361,22.192,37.361z M17.059,11.21c1.01-0.522,1.947-1.304,2.813-2.346c0.862-1.042,1.659-2.159,2.395-3.349c0.732-1.189,1.368-2.403,1.905-3.642c0.537-1.239,0.97-2.362,1.296-3.373c0.357-1.076,0.603-2.282,0.733-3.618c0.129-1.336-0.082-2.46-0.635-3.372c-0.393-0.815-0.905-1.287-1.541-1.418c-0.635-0.13-1.271-0.082-1.906,0.147c-0.636,0.228-1.238,0.595-1.808,1.1c-0.571,0.505-0.987,0.953-1.248,1.344c-0.717,1.271-1.344,2.688-1.881,4.252c-0.538,1.564-0.905,3.186-1.1,4.864c-0.196,1.678-0.221,3.291-0.074,4.839C16.155,8.188,16.504,9.711,17.059,11.21z M15.593,12.725c-0.555-2.15-1.043-4.26-1.467-6.33c-0.424-2.069-0.636-4.196-0.636-6.379c0-1.597,0.115-3.348,0.343-5.254c0.229-1.906,0.644-3.764,1.246-5.572c0.604-1.809,1.435-3.43,2.492-4.864c1.061-1.434,2.469-2.477,4.229-3.129c0.163-0.064,0.326-0.097,0.49-0.097c0.227,0,0.496,0.13,0.805,0.391c0.311,0.26,0.637,0.643,0.979,1.148c0.342,0.505,0.643,1.026,0.904,1.564c0.261,0.537,0.456,0.904,0.588,1.1c0.878,1.662,1.521,3.43,1.93,5.303c0.406,1.874,0.644,3.74,0.709,5.598c0.129,2.802-0.025,5.572-0.464,8.309c-0.439,2.737-1.329,5.41-2.665,8.016c-0.455,0.782-0.921,1.573-1.394,2.371c-0.474,0.799-1.033,1.572-1.686,2.322c-0.131,0.131-0.367,0.367-0.709,0.708c-0.343,0.343-0.693,0.692-1.051,1.051c-0.358,0.358-0.677,0.693-0.953,1.002c-0.277,0.309-0.415,0.497-0.415,0.562l2.003,9.777c0.013,0.064,1.003,0,1.003,0c1.912,0.024,3.937,0.333,5.694,1.026c1.694,0.782,3.152,1.857,4.375,3.226c1.222,1.369,2.198,2.909,2.933,4.619c0.732,1.711,1.1,3.446,1.1,5.206c0,1.76-0.261,3.553-0.782,5.377c-1.336,3.454-3.471,6.012-6.403,7.674c-0.326,0.195-0.791,0.416-1.394,0.66c-0.602,0.244-0.84,0.627-0.709,1.149c0.784,3.55,1.312,5.994,1.59,7.332c0.276,1.339,0.48,3.065,0.61,5.181c0.13,2.023-0.221,3.843-1.051,5.472c-0.832,1.634-1.947,2.96-3.35,3.984c-1.399,1.029-2.679,1.629-3.836,1.813c-1.156,0.179-1.946,0.266-2.371,0.266c-1.466,0-2.899-0.278-4.301-0.833c-1.727-0.647-3.177-1.641-4.35-2.979c-1.173-1.339-1.76-2.967-1.76-4.885c0-1.209,0.35-2.449,1.051-3.72c0.701-1.27,1.622-2.184,2.762-2.732c1.271-0.655,2.42-0.833,3.445-0.543c1.027,0.295,1.874,0.852,2.543,1.666c0.668,0.814,1.134,1.801,1.393,2.955c0.261,1.16,0.245,2.239-0.05,3.25c-0.293,1.012-0.887,1.87-1.783,2.566c-0.896,0.703-2.143,1.018-3.739,0.956c0.651,1.173,1.564,1.913,2.737,2.221c1.173,0.315,2.38,0.333,3.617,0.074c1.238-0.26,2.403-0.741,3.495-1.443c1.092-0.697,1.947-1.457,2.566-2.271c0.392-0.586,0.685-1.351,0.88-2.294c0.195-0.951,0.311-1.932,0.343-2.962c0.031-1.023,0-1.825-0.099-2.393c-0.098-0.574-0.261-1.462-0.488-2.665c-0.977-3.942-1.598-6.421-1.857-7.434c-0.131-0.322-0.481-0.428-1.051-0.314c-0.57,0.115-1.051,0.221-1.442,0.314c-2.802,0.364-5.149,0.198-7.039-0.485c-2.933-0.782-5.515-2.175-7.747-4.179c-2.232-2.004-4.025-4.432-5.377-7.284C0.676,45.043,0,42.876,0,41.394c0-1.482,0-2.419,0-2.811c0-2.639,0.456-5.115,1.368-7.43c1.728-3.617,3.772-6.941,6.135-9.971C9.866,18.15,12.563,15.332,15.593,12.725z");
            break;

        case "G2_OCT":
            clefElem = DrawScoreClef("G2");
            var currPath = clefElem.getAttribute("d");
            currPath += "M13.684,90.291c-0.512-0.678-0.852-1.361-1.022-1.872c-0.17-0.511-0.341-1.192-0.341-1.876c0-1.188,0.341-2.212,1.192-2.892c0.852-0.682,1.874-1.192,3.236-1.192c1.192,0,2.213,0.341,2.895,1.021c0.68,0.682,1.021,1.533,1.021,2.384c0,0.679-0.17,1.192-0.512,1.703c-0.34,0.511-0.682,1.021-1.191,1.362c-0.342,0.171-0.852,0.511-1.703,0.852c0.851,1.192,1.533,2.043,1.703,2.554s0.34,1.022,0.34,1.703c0,1.362-0.51,2.554-1.533,3.577c-1.021,1.022-2.213,1.531-3.746,1.531c-1.362,0-2.383-0.341-3.234-1.021c-0.852-0.682-1.192-1.702-1.192-2.725c0-0.681,0.169-1.364,0.511-2.046c0.341-0.679,0.851-1.188,1.533-1.703C12.151,90.974,12.833,90.633,13.684,90.291z M14.195,90.801c-0.341,0.342-0.682,0.682-0.852,0.851c-0.171,0.343-0.511,1.024-0.682,1.703c-0.17,0.682-0.341,1.533-0.341,2.555c0,0.682,0.171,1.193,0.341,1.533c0.171,0.341,0.682,0.512,1.192,0.512c0.511,0,1.021-0.343,1.362-0.852c0.511-0.68,0.852-1.531,0.852-2.554c0-0.681-0.17-1.194-0.341-1.874C15.557,91.994,14.875,91.651,14.195,90.801z M16.577,88.93c0.342-0.341,0.683-0.681,0.852-0.852c0.341-0.681,0.513-1.703,0.513-2.896c0-0.679-0.172-1.361-0.341-1.529c-0.172-0.173-0.511-0.683-0.852-0.683s-0.682,0.17-1.022,0.513c-0.34,0.509-0.511,1.19-0.511,2.212c0,0.514,0.171,1.024,0.341,1.533S16.068,88.246,16.577,88.93z";
            clefElem.setAttribute("d", currPath);
            break;

        case "F4":
            clefElem.setAttribute("d", "M0,46.704c0-0.504,2.425-2.577,5.39-4.607c6.373-4.365,10.975-9.14,13.652-14.166c6.139-11.524,4.194-23.541-3.987-24.638C10.529,2.687,4.8,5.988,4.8,9.203c0,1.193,0.305,1.289,3.623,1.141c4.059-0.181,6.805,3.77,4.608,6.63C9.561,21.495,1.2,18.898,1.2,13.299c0-4.907,2.986-8.812,8.242-10.778C20.689-1.688,31.395,6.07,30.457,17.749c-0.768,9.572-9.102,18.512-25.281,27.119C1.337,46.909,0,47.384,0,46.704L0,46.704zM39.893,9.672c0,1.948-1.508,3.528-3.368,3.528c-1.859,0-3.367-1.58-3.367-3.528c0-1.949,1.508-3.528,3.367-3.528C38.385,6.145,39.893,7.724,39.893,9.672zM39.893,21.6c0,1.948-1.507,3.528-3.368,3.528c-1.859,0-3.367-1.58-3.367-3.528c0-1.949,1.508-3.528,3.367-3.528C38.386,18.072,39.893,19.651,39.893,21.6z");
            break;

        case "C3":
            clefElem.setAttribute("d", "M0,29.977V0.045H3.36h3.36v29.932v29.934H3.36H0V29.977z M9.748,0.034L12.192,0l0.025,14.4c0.016,9.025,0.225,14.355,0.603,14.355c0.883,0,3.56-4.269,5.187-8.272l1.417-3.487l1.227,2.773c1.467,3.313,3.583,4.865,6.277,4.599c3.217-0.317,4.416-2.579,4.716-8.897c0.432-9.045-1.304-12.906-6.01-13.375c-3.332-0.332-4.86,0.475-3.889,2.054c0.367,0.599,1.047,1.696,1.509,2.442c0.742,1.194,0.691,1.553-0.424,3.053c-1.646,2.212-3.62,2.474-5.479,0.729c-2.027-1.906-1.891-4.307,0.396-6.91c4.914-5.598,14.741-4.174,19.358,2.803c1.473,2.224,1.685,3.135,1.674,7.172c-0.014,5.029-0.901,7.414-3.745,10.05c-2.19,2.03-6.137,3.047-9.846,2.538c-2.924-0.403-3.058-0.354-4.283,1.581c-1.237,1.956-1.241,2.04-0.148,4.167c1.115,2.172,1.115,2.172,5.954,2.172c4.391,0,5.053,0.164,7.15,1.762c7.806,5.945,6.451,18.943-2.4,23.043c-6.44,2.98-15.577-0.652-15.577-6.193c0-2.211,1.907-4.254,3.97-4.254c1.718,0,3.972,1.938,3.972,3.418c0,0.535-0.575,1.783-1.279,2.77c-1.596,2.242-0.762,3.586,2.224,3.586c2.642,0,5.554-2.463,6.364-5.385c0.808-2.906,0.804-10.16-0.006-13.076c-1.578-5.68-8.335-5.383-10.447,0.459c-0.754,2.084-1.742,2.854-1.744,1.355c-0.001-1.502-3.535-8.121-5.11-9.574l-1.608-1.481l0.032,15.977l-0.058,13.762H9.748V0.034L9.748,0.034z");
            break;

        case "NEUTRAL_1":
            clefElem.setAttribute("d", "M0,30.031V5.406h8.108h8.108v24.626v24.625H8.108H0V30.031z M13.814,30.031v-19.82H8.108H2.402v19.82v19.82h5.706h5.706V30.031L13.814,30.031z");
            break;

        case "NEUTRAL_2":
            clefElem = document.createElementNS(xmlns, "polygon");  //create new path
            clefElem.setAttribute("points", "0,30.031 0,15.616 4.205,15.616 8.409,15.616 8.409,30.031 8.409,44.447 4.205,44.447 0,44.447 0,30.031 17.418,30.031 17.418,15.616 21.623,15.616 25.827,15.616 25.827,30.031 25.827,44.447 21.623,44.447 17.418,44.447 17.418,30.031 ");
            break;

        default:
            throw "INVALID_CLEF_ELEMENT_TO_DRAW: " + clef;
    }

    return clefElem;
}

//Function to draw the key signature object
function DrawKeySignature(fifth) {
    var keySigGroup,
        currSymbol;

    switch(fifth) {

        case 1:
            keySigGroup = $G.create("g");
            currSymbol = DrawNoteAtt("sharp");
            keySigGroup.appendChild(currSymbol);
            currSymbol.translate(0, -7.5);
            break;

        case 2:
            keySigGroup = DrawKeySignature(1);
            currSymbol = DrawNoteAtt("sharp");
            currSymbol.translate(keySigGroup.getBBox().width + 2, 15);
            keySigGroup.appendChild(currSymbol);
            break;

        case 3:
            keySigGroup = DrawKeySignature(2);
            currSymbol = DrawNoteAtt("sharp");
            currSymbol.translate(keySigGroup.getBBox().width + 2, -15);
            keySigGroup.appendChild(currSymbol);
            break;

        case 4:
            keySigGroup = DrawKeySignature(3);
            currSymbol = DrawNoteAtt("sharp");
            currSymbol.translate(keySigGroup.getBBox().width + 2, 7.5);
            keySigGroup.appendChild(currSymbol);
            break;

        case 5:
            keySigGroup = DrawKeySignature(4);
            currSymbol = DrawNoteAtt("sharp");
            currSymbol.translate(keySigGroup.getBBox().width + 2, 30);
            keySigGroup.appendChild(currSymbol);
            break;

        case 6:
            keySigGroup = DrawKeySignature(5);
            currSymbol = DrawNoteAtt("sharp");
            currSymbol.translate(keySigGroup.getBBox().width + 2, 0);
            keySigGroup.appendChild(currSymbol);
            break;

        case 7:
            keySigGroup = DrawKeySignature(6);
            currSymbol = DrawNoteAtt("sharp");
            currSymbol.translate(keySigGroup.getBBox().width + 2, 22.5);
            keySigGroup.appendChild(currSymbol);
            break;

        case -1:
            keySigGroup = $G.create("g");
            currSymbol = DrawNoteAtt("flat");
            keySigGroup.appendChild(currSymbol);
            currSymbol.translate(0, 22.5);
            break;

        case -2:
            keySigGroup = DrawKeySignature(-1);
            currSymbol = DrawNoteAtt("flat");
            currSymbol.translate(keySigGroup.getBBox().width + 2, 0);
            keySigGroup.appendChild(currSymbol);
            break;

        case -3:
            keySigGroup = DrawKeySignature(-2);
            currSymbol = DrawNoteAtt("flat");
            currSymbol.translate(keySigGroup.getBBox().width + 2, 30);
            keySigGroup.appendChild(currSymbol);
            break;

        case -4:
            keySigGroup = DrawKeySignature(-3);
            currSymbol = DrawNoteAtt("flat");
            currSymbol.translate(keySigGroup.getBBox().width + 2, 7.5);
            keySigGroup.appendChild(currSymbol);
            break;

        case -5:
            keySigGroup = DrawKeySignature(-4);
            currSymbol = DrawNoteAtt("flat");
            currSymbol.translate(keySigGroup.getBBox().width + 2, 37.5);
            keySigGroup.appendChild(currSymbol);
            break;

        case -6:
            keySigGroup = DrawKeySignature(-5);
            currSymbol = DrawNoteAtt("flat");
            currSymbol.translate(keySigGroup.getBBox().width + 2, 15);
            keySigGroup.appendChild(currSymbol);
            break;

        case -7:
            keySigGroup = DrawKeySignature(-6);
            currSymbol = DrawNoteAtt("flat");
            currSymbol.translate(keySigGroup.getBBox().width + 2, 45);
            keySigGroup.appendChild(currSymbol);
            break;

        default:
            throw "INVALID_KEY_SIG_TO_DRAW: " + fifth + " (" + (typeof fifth) + ")";
    }

    return keySigGroup
}

//Function to draw the time signature object

function DrawTimeSignature(timeSig) {
    var timeSigSplit = timeSig.split(",");
    if(timeSigSplit.length < 2)
        return drawTimeSigSymbol(timeSig);
    else
        return drawTimeSigValue(timeSigSplit[0], timeSigSplit[1]);
}


function drawTimeSigValue(beats, beatType) {
    var beatsGroup = document.createElementNS(xmlns, "g"),
        beatTypeGroup = document.createElementNS(xmlns, "g"),
        nextPos = 0;

    if(typeof beats == "number")
        beats = beats.toString();

    if(typeof beatType == "number")
        beatType = beatType.toString();

    for(var i = 0; i < beats.length; i++) {
        var beatsValue = parseInt(beats.charAt(i)),
            beatsElem = drawTimeSigNum(beatsValue);

        beatsGroup.appendChild(beatsElem);   
        beatsElem.setAttribute("transform", "translate(" + nextPos + " 0)");

        //update the next position value (must append to get the values)
        nextPos += getTimeSigNextPos(beatsValue);
    }

    nextPos = 0;

    for(var i = 0; i < beatType.length; i++) {
        var beatTypeValue = parseInt(beatType.charAt(i)),
            beatTypeElem = drawTimeSigNum(beatTypeValue);

        beatTypeGroup.appendChild(beatTypeElem);   
        beatTypeElem.setAttribute("transform", "translate(" + nextPos + " 0)");

        //update the next position value
        nextPos += getTimeSigNextPos(beatTypeValue);
    }

    var beatsLength = beatsGroup.getBBox().width,
        beatTypeLength = beatTypeGroup.getBBox().width;

    if(beatsLength > beatTypeLength) {
        beatTypeGroup.setAttribute("transform", "translate(" + ((beatsLength - beatTypeLength) / 2) + " 30)");
    } else {
        beatsGroup.setAttribute("transform", "translate(" + (beatTypeLength - beatsLength) / 2 + " 0)");
        beatTypeGroup.setAttribute("transform", "translate(0 30)");
    }

    var timeSigGroup = document.createElementNS(xmlns, "g");

    timeSigGroup.appendChild(beatsGroup);
    timeSigGroup.appendChild(beatTypeGroup);

    return timeSigGroup;
}

//Function to draw the time symbols cut and common
function drawTimeSigSymbol(symbol) {
    var timeSymbol = $G.create("path");  //create new path
        timeSymbol.setAttribute("d", "M24.739,24.021c0-3.428-3.25-8.963-11.938-8.964C6.368,15.06,0.002,22.809,0,29.571c0.03,8.635,4.863,16.113,13.147,16.113c9.297-0.003,11.678-7.726,11.674-11.586c-0.331-0.001-0.767,0.003-1.038,0.005c-0.526,3.232-3.648,9.706-8.998,9.706c-5.83-0.001-7.287-5.19-7.285-13.569c0-10.549,3.453-13.306,7.607-13.308c3.29,0.005,5.091,1.752,5.347,2.192c0.154,0.245,0.166,0.571-0.048,0.799C17.905,19.905,15,21.648,15,25.16c0,2.101,1.483,4.485,4.7,4.485C22.139,29.644,24.731,27.764,24.739,24.021L24.739,24.021z");    

    switch(symbol) {
        case "common":
            return timeSymbol;             

        case "cut":
            var timeSymbolGroup = $G.create("g"),
                cutLine = $G.create("path");  //create new path

            cutLine.setAttribute("d", "M11.918,4.693h1.271l-0.027,50.74h-1.243V4.693z");

            timeSymbolGroup.appendChild(timeSymbol);
            timeSymbolGroup.appendChild(cutLine);
            
            return timeSymbolGroup;
            
        default:
            throw "INVALID_TIME_SYMBOL_TO_DRAW";
    }
}

function getTimeSigNextPos(value) {
    switch(value) {
        case 0:
            return 25;
        case 1:
            return 20;
        case 2:
            return 25;
        case 3:
            return 25;
        case 4:
            return 25;
        case 5:
            return 23;
        case 6:
            return 25;
        case 7:
            return 25;
        case 8:
            return 25;
        case 9:
            return 25;
    }
}

//Function to draw the number used in the time sig
function drawTimeSigNum(number) {
    var numberElem = document.createElementNS(xmlns, "path");  //create new path

    switch(number) {
        case 0:
            numberElem.setAttribute("d","M11.146,1.5c3.921,0.258,6.759,1.877,8.514,4.86c1.754,2.983,2.631,5.863,2.631,8.64c0,2.829-0.877,5.735-2.631,8.718c-1.755,2.928-4.593,4.525-8.514,4.782c-3.923-0.257-6.76-1.851-8.515-4.782C0.878,20.734,0,17.828,0,15c0-2.777,0.877-5.659,2.632-8.64C4.385,3.327,7.224,1.705,11.146,1.5 M11.146,3.429C9.185,3.686,7.921,5.254,7.354,8.136c-0.618,2.829-0.902,5.141-0.851,6.944c-0.052,1.8,0.181,4.089,0.696,6.867c0.567,2.827,1.884,4.371,3.948,4.63c2.012-0.259,3.302-1.802,3.87-4.63c0.566-2.778,0.801-5.067,0.695-6.867c0.053-1.803-0.207-4.116-0.773-6.944C14.319,5.254,13.054,3.686,11.146,3.429");
            break;
        case 1:
            numberElem.setAttribute("d","M12.428,1.5v20.928c0,1.279,0.18,2.266,0.542,2.957c0.359,0.691,1.235,1.064,2.624,1.117V28.5H2.548v-1.998c1.389-0.053,2.265-0.426,2.624-1.117c0.362-0.693,0.542-1.678,0.542-2.957V8.93H5.636l-4.092,6.949L0,15.24L5.636,1.5H12.428");
            break;
        case 2:
            numberElem.setAttribute("d","M7.151,6.669C8.179,7.082,8.771,8.058,8.926,9.6c-0.051,1.029-0.489,1.877-1.312,2.546c-0.825,0.72-1.75,1.079-2.779,1.079c-2.523-0.256-3.911-1.593-4.169-4.01c0-2.006,0.823-3.778,2.47-5.321c1.648-1.492,4.425-2.29,8.338-2.393c2.984,0.103,5.225,0.926,6.716,2.469c1.544,1.492,2.316,3.216,2.316,5.17c-0.36,3.292-2.137,5.528-5.327,6.713c-3.139,1.129-5.867,2.494-8.183,4.086v0.078c3.602-0.412,6.459,0.129,8.569,1.621l2.162,0.151c0.772-0.31,1.209-1.338,1.312-3.084h1.93c0.051,2.211-0.335,4.344-1.158,6.399c-0.875,2.107-2.624,3.238-5.249,3.396c-1.853-0.205-3.371-0.849-4.555-1.931c-1.184-1.184-2.572-1.93-4.169-2.237c-2.161,0.104-3.397,1.183-3.705,3.24H0.125c-0.463-2.83,0.362-5.115,2.471-6.865c2.109-1.748,4.246-3.188,6.406-4.319c1.339-0.822,2.471-1.876,3.397-3.164c0.979-1.335,1.493-2.828,1.544-4.474c-0.103-3.65-1.595-5.35-4.477-5.091c-2.78,0.053-4.117,0.591-4.014,1.623C5.606,5.847,6.172,6.31,7.151,6.669");
            break;
        case 3:
            numberElem.setAttribute("d","M7.103,5.832C7.721,6.138,8.081,7.039,8.184,8.53c-0.207,2.003-1.519,3.084-3.937,3.237c-2.316-0.153-3.551-1.414-3.706-3.779C0.696,5.47,1.854,3.775,4.015,2.9c2.111-0.926,4.066-1.388,5.868-1.388c2.109-0.103,4.246,0.437,6.406,1.622c2.162,1.18,3.294,3.056,3.397,5.626c-0.051,2.877-2.162,4.805-6.33,5.781v0.077c1.595,0.153,3.088,0.72,4.477,1.694c1.337,0.979,2.034,2.42,2.085,4.318c-0.103,2.932-1.261,4.983-3.474,6.168c-2.111,1.184-4.375,1.747-6.794,1.696c-2.06,0.051-4.116-0.361-6.176-1.233C1.363,26.386,0.205,24.742,0,22.327c0.256-2.468,1.621-3.829,4.092-4.087c2.367,0.207,3.653,1.467,3.86,3.779c-0.207,1.129-0.644,2.105-1.313,2.93c0.104,1.025,0.618,1.566,1.544,1.617c1.544,0.104,2.779-0.359,3.706-1.387c0.979-0.978,1.491-2.265,1.544-3.855c-0.104-2.264-0.876-3.803-2.316-4.626c-1.39-0.821-3.037-1.232-4.941-1.232V13.54c2.265,0,3.937-0.361,5.018-1.081c1.184-0.72,1.776-2.08,1.776-4.085c-0.051-3.136-1.493-4.781-4.324-4.935L6.949,3.672C6.382,3.774,6.047,4.108,5.944,4.673C6.1,5.136,6.486,5.521,7.103,5.832");
            break;
        case 4:
            numberElem.setAttribute("d","M9.803,10.662c-2.726,3.482-5.197,6.189-7.411,8.115v0.158h8.261v-5.542l6.715-6.589v12.131h3.011v2.25h-3.011v1.207c-0.051,1.284,0.103,2.276,0.463,2.971c0.36,0.699,1.184,1.072,2.471,1.127v2.01H7.566v-2.01c1.337-0.055,2.186-0.428,2.546-1.127c0.36-0.695,0.542-1.687,0.542-2.971v-1.207H0v-2.25c2.265-2.248,3.911-4.927,4.941-8.035C6.073,7.741,6.794,4.608,7.102,1.5h9.033C14.693,4.125,12.584,7.181,9.803,10.662");
            break;
        case 5:
            numberElem.setAttribute("d","M13.453,6.293c-1.39,0.905-3.141,1.333-5.25,1.279l-5.249-0.72l-0.155,6.071c2.058-1.385,4.271-2.078,6.639-2.078c2.574,0.054,4.734,0.798,6.485,2.237c1.75,1.332,2.676,3.381,2.779,6.148c0,2.025-0.823,4.047-2.47,6.074c-1.749,1.967-4.606,3.035-8.569,3.195c-1.802,0-3.5-0.508-5.095-1.52c-1.544-0.959-2.394-2.422-2.548-4.396c-0.103-1.226,0.205-2.313,0.926-3.272c0.721-0.957,1.595-1.465,2.625-1.519c2.676,0,4.015,1.383,4.015,4.154c-0.103,1.01-0.567,1.836-1.39,2.475c-0.309,0.16-0.489,0.453-0.54,0.882c0.308,0.901,0.977,1.303,2.007,1.194c0.979,0.106,2.084-0.426,3.319-1.599c1.236-1.809,1.699-3.834,1.39-6.071c-0.103-1.754-0.618-3.193-1.544-4.31c-0.977-1.066-2.084-1.625-3.32-1.679c-1.903,0.053-3.551,0.933-4.939,2.637h-1.7L1.101,1.5l7.72,0.88l7.564-0.88C15.921,3.844,14.943,5.441,13.453,6.293");
            break;
        case 6:
            numberElem.setAttribute("d","M11.732,1.5c1.75,0,3.422,0.488,5.018,1.467c1.544,0.978,2.446,2.365,2.702,4.166c-0.256,2.365-1.595,3.677-4.014,3.935c-2.316-0.207-3.604-1.388-3.86-3.549c0.154-0.978,0.488-1.928,1.004-2.854c0.205-0.927-0.309-1.338-1.544-1.236c-0.979,0.052-1.75,0.516-2.316,1.39L7.565,7.441c-0.516,1.595-0.772,2.933-0.772,4.014v3.856c2.007-1.234,4.194-1.903,6.562-2.006c2.058,0.052,3.757,0.693,5.095,1.929c1.44,1.234,2.188,2.905,2.239,5.013c-0.155,2.621-1.185,4.629-3.088,6.019c-1.957,1.489-4.169,2.235-6.64,2.235h-0.077c-3.705-0.104-6.458-1.44-8.259-4.012C0.875,21.917,0,18.833,0,15.233c0-3.807,1.028-7.021,3.088-9.642C5.094,2.968,7.975,1.603,11.732,1.5 M13.585,17.395c-0.463-1.289-1.389-2.007-2.779-2.161c-1.39,0.152-2.342,0.874-2.856,2.161c-0.464,1.336-0.669,2.47-0.618,3.396c-0.051,1.233,0.154,2.494,0.618,3.778c0.514,1.234,1.466,1.902,2.856,2.007c1.39-0.104,2.316-0.771,2.779-2.007c0.463-1.284,0.669-2.543,0.618-3.778C14.255,19.863,14.048,18.732,13.585,17.395");
            break;
        case 7:
            numberElem.setAttribute("d","M13.741,4.004c0.823,1.241,1.827,1.732,3.009,1.475c1.391-0.621,2.162-1.681,2.316-3.18h1.93l-1.312,6.356l-2.935,5.737c-2.521,4.288-3.704,8.99-3.551,14.107H4.092c0.102-2.944,1.131-5.659,3.088-8.138c1.902-2.377,3.988-4.396,6.252-6.048l2.471-2.403c0.669-0.774,1.132-1.809,1.39-3.1c-2.677,2.066-4.606,2.816-5.79,2.248c-1.185-0.569-2.163-1.396-2.935-2.48c-2.984-2.741-5.121-2.17-6.406,1.705H0V2.299h2.162c0.102,0.98,0.564,1.446,1.389,1.396C4.22,3.28,4.914,2.79,5.635,2.222c0.67-0.567,1.828-0.801,3.475-0.698C11.322,1.991,12.867,2.817,13.741,4.004");
            break;
        case 8:
            numberElem.setAttribute("d","M10.112,1.504c1.956-0.051,3.937,0.36,5.945,1.235c2.109,0.823,3.242,2.391,3.396,4.703c-0.256,2.728-1.568,4.783-3.937,6.171c3.192,1.854,4.76,3.987,4.709,6.403c-0.051,2.159-1.08,4.088-3.088,5.783c-1.954,1.696-4.554,2.598-7.797,2.7c-2.263,0-4.348-0.592-6.252-1.774C1.184,25.493,0.154,23.666,0,21.251c0.051-1.44,0.567-2.701,1.544-3.781c0.977-1.079,2.111-1.901,3.397-2.469c-2.728-1.285-4.195-3.446-4.401-6.478c0.103-2.417,1.185-4.19,3.243-5.324C5.841,2.071,7.952,1.504,10.112,1.504 M12.891,12.226c1.544-1.131,2.471-2.673,2.78-4.627c0-1.542-0.695-2.622-2.085-3.24c-1.337-0.667-2.649-0.976-3.937-0.925C7.436,3.332,6.046,4.309,5.481,6.367c0.207,1.389,1.313,2.699,3.32,3.934C10.91,11.531,12.274,12.176,12.891,12.226 M11.733,18.706l-4.477-2.468c-1.955,1.131-3.087,2.773-3.396,4.935c0.051,1.392,0.642,2.599,1.776,3.624c1.08,0.979,2.289,1.493,3.628,1.543c1.288,0.207,2.497-0.051,3.627-0.771c1.081-0.719,1.674-1.771,1.776-3.16C14.462,20.864,13.484,19.631,11.733,18.706");
            break;
        case 9:
            numberElem.setAttribute("d","M9.882,1.5c3.758,0.103,6.51,1.44,8.26,4.011c1.748,2.572,2.6,5.684,2.547,9.335c0,3.394-0.979,6.478-2.934,9.255c-1.904,2.776-4.813,4.243-8.725,4.397c-1.748,0-3.422-0.49-5.018-1.465c-1.595-0.979-2.521-2.396-2.779-4.244c0.207-2.365,1.518-3.679,3.937-3.935c2.471,0.203,3.783,1.465,3.938,3.781l-1.004,2.775c-0.103,0.977,0.387,1.361,1.467,1.156c1.699-0.205,2.83-1.338,3.397-3.396c0.565-1.801,0.875-3.603,0.927-5.397l0.153-3.01l-3.241,1.311l-3.396,0.617c-2.008-0.051-3.732-0.691-5.172-1.927C0.849,13.534,0.103,11.862,0,9.751C0.103,7.13,1.158,5.099,3.165,3.66c1.956-1.441,4.169-2.161,6.639-2.161L9.882,1.5 M7.181,12.609c0.514,1.336,1.492,2.083,2.932,2.237c1.287-0.153,2.188-0.9,2.703-2.237c0.463-1.388,0.668-2.701,0.617-3.935l-0.849-3.395c-0.464-1.131-1.288-1.75-2.472-1.853C8.826,3.531,7.924,4.147,7.411,5.28c-0.514,1.132-0.799,2.262-0.85,3.394C6.459,9.908,6.664,11.221,7.181,12.609");
            break;

        default:
            throw "INVALID_NUMBER_TO_DRAW";
    }
    return numberElem;
}

function DrawDot(dotsAmount) {
    if(dotsAmount == 1) {
        var dotElem = $G.create("circle");
        dotElem.setRadius(3);
        return dotElem;
    } 

    if(dotsAmount == 2) {
        var dotGroup = $G.create("g"),
            dot1 = $G.create("circle"),
            dot2 = $G.create("circle");

        dot1.setRadius(3);        
        dot2.setRadius(3);
        dot2.translate(10);

        dotGroup.appendChild(dot1);
        dotGroup.appendChild(dot2);

        return dotGroup;
    }

    throw "INVALID_DOTS_AMOUNT_VALUE: " + dotsAmount;
}

function DrawNumber(num) {
    var textGroup = $G.create("g"),
        textObj = $G.create("text"),
        textObjBox,
        textRect = $G.create("rect");

    textGroup.appendChild(textRect);
    textGroup.appendChild(textObj);

    textObj.setAttribute("font-family", "Verdana");
    textObj.setAttribute("font-size", "15");
    textObj.setAttribute("y", "15");
    textObj.innerHTML = num;
    
    textObjBox = textObj.getBBox();

    textRect.setAttribute("height", textObjBox.height);
    textRect.setAttribute("width", textObjBox.width);
    textRect.setAttribute("fill", "#eee");

    return textGroup;
}
            
function DrawNote(denominator) {
    var mElem = document.createElementNS(xmlns, "path"),  //var to store the measure element draw
        path;
    
    if(denominator <= 1)
        path = "M6.168,14.077C2.72,13.017,0,10.133,0,7.539C0,0.198,15.768-2.707,22.279,3.434C29.321,10.075,17.83,17.667,6.168,14.077z M16.686,12.234c1.918-2.928,0.084-8.729-3.238-10.243c-4.88-2.223-7.871,1.565-5.839,7.396C9.014,13.419,14.733,15.213,16.686,12.234z"
    else if(denominator <= 2)
        path = "M17.486,3.148c1.469,3.373-1.164,8.055-5.881,10.455c-4.715,2.401-9.729,1.615-11.199-1.76C-1.061,8.473,1.572,3.791,6.287,1.391c3.925-1.998,8.175-1.826,10.306,0.414 M3.581,12.276c2.597,0,5.219-1.139,7.865-3.414c2.694-2.275,4.042-3.968,4.042-5.081c0-0.709-0.293-1.063-0.883-1.063c-1.812,0-4.313,1.088-7.496,3.263C3.973,8.104,2.406,9.874,2.406,11.29C2.406,11.948,2.797,12.276,3.581,12.276"
    else
        path = "M17.486,3.155c1.469,3.373-1.165,8.054-5.881,10.455c-4.716,2.4-9.73,1.613-11.199-1.76C-1.062,8.478,1.571,3.797,6.287,1.397c3.924-1.998,8.174-1.828,10.306,0.414";

    mElem.setAttribute("d", path);
    return mElem;  
}

function DrawNoteFlag(denominator) {
    var mElem = document.createElementNS(xmlns, "path"),  //var to store the measure element draw
        path = "";

    if(denominator <= 4) {} //denominators less or equal to 4 don't have flags
    else if(denominator <= 8) 
        path = "M0,2.912v45.669l0,0V16.315c19.935,5.05,10.735,22.556,8.94,28.739C25.317,22.686,0.221,13.562,0,0l0,0V2.912z";
    else if(denominator <= 16) 
        path = "M0.002,5.295v45.975V23.55c11.844,7.235,18.269,9.305,12.298,25.644C23.705,31.765,9.484,29.475,0.002,12.376v-1.299c16.056,8.143,12.834,15.762,14.275,19.941C18.271,14.282,3.935,12.59,0,0.718V0L0.002,5.295z";
    else if(denominator <= 32) 
        path = "M0.117,0v54.249V31.982c11.705,7.726,17.459,9.21,11.5,25.518c5.85-7.556,5.428-12.431,2.362-17.482c0.458-3.398,0.481-6.002,0.174-8.093C17.505,12.538,5.685,14.203,0.117,2.013V0.117H0M0.511,11.287c11.755,6.344,12.836,12.563,13.145,17.347c-2.277-5.295-7.747-6.909-13.145-15.701V11.287z M0.511,20.813c11.915,10.14,11.869,7.747,13.3,18.296C10.558,34.195,5.027,28.956,0.511,20.813z";
    else if(denominator <= 64) 
        path = "M0.039-2v47c5.132,4.149,10.288,5.792,12.339,8.736c4.046,5.806,0.109,15.833-0.328,17.361c1.176-1.512,3.526-5.63,3.487-10.547c-0.023-2.949,0.007-8.999-6.763-14.786C2.004,39.977,0,37.079,0,31.619c5.001,4.664,14.618,7.484,13.544,20.459c0.365,0.769,0.622,1.436,0.622,1.436c1.409-4.467,1.061-11.412-2.214-15.78c-3.276-4.368-7.329-6.323-9.719-9.609c-1.747-2.402-2.113-3.681-2.222-7.394c4.914,3.276,10.309,7.158,11.504,9.468c2.635,5.093,2.435,8.775,2.216,10.741c0.642,1.502,0.513,1.893,0.513,1.893s0.675-2.23,0.675-5.288c0-3.057,0.09-6.036-3.076-11.168C8.676,21.245,2.9,18.789,1.469,15.786c-1.092-2.293-1.364-3.058-1.42-6.115c5.023,3.058,7.535,4.368,10.046,7.862c2.512,3.494,3.662,4.461,3.565,12.205c0.546,1.201,0.476,1.553,0.476,1.553s0.969-4.536,0.681-8.172c-0.244-3.065-1.445-6.351-4.284-9.735C7.694,9.999,3.629,6.623,1.579,4.321c-1.355-1.522-1.475-2.397-1.49-3.46";

/*
    switch(denominator) {
        case 8:
            path = "M0,2.912v45.669l0,0V16.315c19.935,5.05,10.735,22.556,8.94,28.739C25.317,22.686,0.221,13.562,0,0l0,0V2.912z";
            break;

        case 16:
            path = "M0.002,5.295v45.975V23.55c11.844,7.235,18.269,9.305,12.298,25.644C23.705,31.765,9.484,29.475,0.002,12.376v-1.299c16.056,8.143,12.834,15.762,14.275,19.941C18.271,14.282,3.935,12.59,0,0.718V0L0.002,5.295z";
            break;

        case 32:
            path = "M0.117,0v54.249V31.982c11.705,7.726,17.459,9.21,11.5,25.518c5.85-7.556,5.428-12.431,2.362-17.482c0.458-3.398,0.481-6.002,0.174-8.093C17.505,12.538,5.685,14.203,0.117,2.013V0.117H0M0.511,11.287c11.755,6.344,12.836,12.563,13.145,17.347c-2.277-5.295-7.747-6.909-13.145-15.701V11.287z M0.511,20.813c11.915,10.14,11.869,7.747,13.3,18.296C10.558,34.195,5.027,28.956,0.511,20.813z";
            break;

        case 64:
            path = "M0.039-2v47c5.132,4.149,10.288,5.792,12.339,8.736c4.046,5.806,0.109,15.833-0.328,17.361c1.176-1.512,3.526-5.63,3.487-10.547c-0.023-2.949,0.007-8.999-6.763-14.786C2.004,39.977,0,37.079,0,31.619c5.001,4.664,14.618,7.484,13.544,20.459c0.365,0.769,0.622,1.436,0.622,1.436c1.409-4.467,1.061-11.412-2.214-15.78c-3.276-4.368-7.329-6.323-9.719-9.609c-1.747-2.402-2.113-3.681-2.222-7.394c4.914,3.276,10.309,7.158,11.504,9.468c2.635,5.093,2.435,8.775,2.216,10.741c0.642,1.502,0.513,1.893,0.513,1.893s0.675-2.23,0.675-5.288c0-3.057,0.09-6.036-3.076-11.168C8.676,21.245,2.9,18.789,1.469,15.786c-1.092-2.293-1.364-3.058-1.42-6.115c5.023,3.058,7.535,4.368,10.046,7.862c2.512,3.494,3.662,4.461,3.565,12.205c0.546,1.201,0.476,1.553,0.476,1.553s0.969-4.536,0.681-8.172c-0.244-3.065-1.445-6.351-4.284-9.735C7.694,9.999,3.629,6.623,1.579,4.321c-1.355-1.522-1.475-2.397-1.49-3.46";
            break;
    }*/

    mElem.setAttribute("d", path);
    return mElem; 
}

function DrawRest(denominator) {
    var mElem = document.createElementNS(xmlns, "path"),  //var to store the measure element draw
        path;
    
    if(denominator <= 1)
        path = "M0,15,16,15,16,20,0,20z";
    else if(denominator <= 2)
        path = "M0,25,16,25,16,30,0,30z";
    else if(denominator <= 4)
        path = "M3.549,6.793l9.656,13.197c-9.077,10.346-3.569,14.607-1.321,20.587L1.426,25.355c6.047-7.147,3.625-12.657,1.47-18.208C2.895,7.145,3.548,6.797,3.549,6.793zM11.053,38.878c-11.13-9.971-15.403,3.024-4.436,12.364C5.206,48.82,1.133,36.925,11.598,40.55";
    else if(denominator <= 8)
        path = "M8.243,20.609l-0.154,0.694c0.309,0.668,0.822,0.821,1.541,0.463c2.465-1.132,4.263-2.878,5.393-5.24h1.002L8.705,43.338H6.548l5.933-21.033c-2.106,1.337-4.34,2.107-6.703,2.312c-1.541-0.051-2.876-0.538-4.006-1.465C0.694,22.228,0.103,21.021,0,19.531c0.052-2.466,1.31-4.006,3.775-4.623c1.283-0.205,2.388,0.104,3.313,0.924c0.925,0.823,1.412,1.901,1.463,3.236L8.243,20.609";
    else if(denominator <= 16)
        path = "M5.859,23.107c-1.116-0.911-1.698-2.104-1.75-3.574c0-2.436,1.243-3.983,3.728-4.642c1.218-0.202,2.283,0.127,3.196,0.989c0.913,0.812,1.395,1.878,1.446,3.195l-0.305,1.599l-0.152,0.685c0.305,0.608,0.812,0.737,1.522,0.379c2.384-1.063,4.235-2.787,5.554-5.172h1.141L8.675,58.033H6.544l5.783-20.771c-2.029,1.317-4.211,2.08-6.544,2.283c-1.521-0.052-2.841-0.535-3.956-1.447C0.711,37.186,0.102,35.992,0,34.522c0.152-2.841,1.649-4.414,4.49-4.718c1.268,0.051,2.257,0.531,2.967,1.446c0.761,0.913,1.115,1.979,1.065,3.196l-0.457,2.054c0.153,0.304,0.406,0.433,0.761,0.382c0.711,0,1.496-0.33,2.359-0.99l1.978-1.599l3.196-12.021c-2.08,1.317-4.287,2.079-6.62,2.282C8.32,24.503,7.026,24.02,5.859,23.107";
    else if(denominator <= 32)
        path = "M16.392,5.345l-0.228,0.676c0.301,0.653,0.803,0.802,1.505,0.451c2.356-1.102,4.185-2.805,5.489-5.112h1.051L8.646,57.528H6.541l5.715-20.525c-2.056,1.301-4.235,2.053-6.541,2.252c-1.505-0.049-2.808-0.525-3.911-1.428C0.702,36.923,0.1,35.745,0,34.292c0.15-2.805,1.629-4.358,4.436-4.66c2.508,0.352,3.835,1.781,3.985,4.285L7.97,36.251c0.151,0.297,0.401,0.422,0.751,0.373c0.752,0,1.556-0.326,2.408-0.979l2.028-1.803l3.083-11.803c-2.054,1.301-4.236,2.053-6.542,2.254c-1.454-0.05-2.756-0.526-3.91-1.43c-1.104-0.902-1.68-2.055-1.729-3.457c0.1-2.81,1.579-4.363,4.437-4.665c1.202,0.102,2.179,0.602,2.931,1.504c0.702,0.903,1.028,1.934,0.978,3.085l-0.45,1.956c0.149,0.299,0.4,0.424,0.752,0.375c0.752,0.049,1.553-0.277,2.405-0.98l2.031-2.027L20.45,6.998c-2.054,1.303-4.235,2.055-6.541,2.256C12.457,9.205,11.151,8.728,10,7.826c-1.104-0.902-1.681-2.081-1.73-3.534c0.049-2.407,1.278-3.936,3.685-4.587c1.252-0.2,2.331,0.126,3.232,0.979c0.953,0.802,1.429,1.854,1.429,3.157C16.717,4.392,16.641,4.893,16.392,5.345";
    else
        path = "M18.007,9.36c-1.439-0.05-2.729-0.521-3.87-1.414c-1.091-0.893-1.662-2.059-1.711-3.497c0.049-2.381,1.265-3.894,3.646-4.54c1.29-0.198,2.381,0.125,3.274,0.968c0.894,0.794,1.364,1.835,1.415,3.125l-0.299,1.488l-0.223,0.67c0.297,0.646,0.793,0.793,1.488,0.446c2.381-1.091,4.167-2.777,5.358-5.06h1.041L8.557,72.014H6.474l5.581-20.238c-1.984,1.289-4.117,2.033-6.4,2.229c-1.487-0.047-2.777-0.521-3.868-1.412C0.695,51.698,0.1,50.534,0,49.098c0.149-2.779,1.612-4.316,4.39-4.613c2.48,0.346,3.794,1.76,3.944,4.24l-0.447,2.309c0.149,0.295,0.397,0.42,0.744,0.371c0.695,0,1.463-0.322,2.307-0.967l2.009-1.789l3.199-11.756c-2.034,1.289-4.217,2.034-6.547,2.233c-1.438-0.047-2.729-0.521-3.87-1.414c-1.091-0.896-1.662-2.035-1.711-3.428c0.099-2.777,1.562-4.313,4.39-4.611c1.191,0.1,2.158,0.597,2.902,1.488c0.744,0.894,1.091,1.909,1.042,3.051l-0.446,1.937c0.149,0.297,0.397,0.426,0.744,0.371c0.744,0.055,1.538-0.271,2.381-0.968l2.01-2.012l3.273-11.531c-2.034,1.291-4.191,2.035-6.474,2.232c-1.488-0.049-2.802-0.521-3.943-1.413c-1.092-0.893-1.663-2.059-1.712-3.497c0.05-2.381,1.29-3.894,3.721-4.54c1.241-0.148,2.306,0.173,3.199,0.967c0.942,0.844,1.414,1.886,1.414,3.125l-0.223,1.563l-0.224,0.595c0.298,0.646,0.794,0.793,1.488,0.446c1.34-0.446,2.555-1.339,3.646-2.679L24.48,7.127C22.496,8.417,20.338,9.163,18.007,9.36";

    mElem.setAttribute("d", path);
    return mElem;  
}

function DrawNoteAtt(element) {
    var mElem;  //var to store the measure element draw

    switch(element) {
        case "natural":
            mElem = document.createElementNS(xmlns, "path");  //create new path
            mElem.setAttribute("d", "M11.058-4v32.002H9.315V16.008L0,18.025v-32.393h1.674v12.499L11.058-4zM1.674,3.512v8.8l7.641-1.681v-8.8L1.674,3.512z");
            break;

        case "flat":
            mElem = document.createElementNS(xmlns, "path");  //create new path
            mElem.setAttribute("d", "M1.548-22.403v19.941c0,0,0,1.344,0,4.033c1.786-1.722,3.791-2.604,6.013-2.647c1.389,0,2.58,0.61,3.572,1.828c0.874,1.134,1.33,2.394,1.37,3.78c0.04,1.092-0.219,2.353-0.774,3.781c-0.198,0.588-0.635,1.219-1.31,1.89c-0.516,0.503-1.051,1.029-1.607,1.575C5.875,14.047,2.937,16.336,0,18.646v-41.049H1.548 M6.371,2.958C5.894,2.369,5.279,2.075,4.525,2.075c-0.954,0-1.727,0.567-2.322,1.702c-0.437,0.881-0.655,2.961-0.655,6.238v5.418c0.04,0.168,1.151-0.861,3.334-3.087c1.19-1.175,1.965-2.563,2.322-4.159c0.159-0.63,0.238-1.26,0.238-1.891C7.442,4.911,7.085,3.797,6.371,2.958");
            break;

        case "flat-flat":
            mElem = document.createElementNS(xmlns, "path");  //create new path
            mElem.setAttribute("d", "M1.548-22.403v19.941c0,0,0,1.344,0,4.033c1.786-1.722,3.791-2.604,6.013-2.647c1.389,0,2.58,0.61,3.572,1.828c0.874,1.134,1.33,2.394,1.37,3.78c0.04,1.092-0.219,2.353-0.774,3.78c-0.198,0.588-0.635,1.22-1.31,1.891c-0.516,0.503-1.051,1.029-1.607,1.574C5.875,14.047,2.937,16.336,0,18.646v-41.049H1.548 M6.371,2.958C5.894,2.369,5.279,2.075,4.525,2.075c-0.954,0-1.727,0.567-2.322,1.702c-0.437,0.881-0.655,2.961-0.655,6.239v5.418c0.04,0.168,1.151-0.861,3.334-3.088c1.19-1.175,1.965-2.563,2.322-4.158c0.159-0.63,0.238-1.261,0.238-1.892C7.442,4.911,7.085,3.797,6.371,2.958M15.61-22.403v19.941c0,0,0,1.344,0,4.033c1.786-1.722,3.791-2.604,6.013-2.647c1.389,0,2.58,0.61,3.572,1.828c0.874,1.134,1.33,2.394,1.37,3.78c0.04,1.092-0.219,2.353-0.774,3.781c-0.198,0.588-0.635,1.22-1.31,1.891c-0.516,0.503-1.051,1.029-1.607,1.574c-2.937,2.27-5.875,4.559-8.812,6.869v-41.05H15.61 M20.434,2.958c-0.477-0.589-1.092-0.883-1.846-0.883c-0.954,0-1.727,0.567-2.322,1.702c-0.437,0.881-0.655,2.961-0.655,6.239v5.418c0.04,0.168,1.151-0.861,3.334-3.088c1.19-1.175,1.965-2.563,2.322-4.158c0.159-0.631,0.238-1.261,0.238-1.892C21.504,4.911,21.147,3.796,20.434,2.958");
            break;

        case "sharp":
            mElem = document.createElementNS(xmlns, "path");  //create new path
            mElem.setAttribute("d", "M4.907,15.006V2.586l5.147-1.457v12.357L4.907,15.006L4.907,15.006zM15.042,12.002l-3.539,1.04V0.685l3.539-1.014v-5.133l-3.539,1.014v-12.626h-1.45v13.009L4.906-2.547v-12.277H3.539v12.745L0-1.063V4.08l3.539-1.013V15.4L0,16.411v5.122l3.539-1.014v12.555h1.367V20.07l5.147-1.452v12.214h1.449V18.16l3.539-1.018L15.042,12.002L15.042,12.002z");
            break;

        case "double-sharp":
            mElem = document.createElementNS(xmlns, "path");  //create new path
            mElem.setAttribute("d", "M0.451,0.436C0.348,0.491,0.254,0.57,0.169,0.675C0.085,0.779,0.028,0.883,0,0.988c0.015,0.26,0.086,1.008,0.213,2.245C0.34,4.47,0.436,5.243,0.502,5.553c0.108,0.443,0.443,0.66,1.003,0.652c0.459,0.003,0.919,0.046,1.379,0.132c0.459,0.083,0.869,0.19,1.229,0.319c0.211,0.082,0.429,0.194,0.652,0.338c0.224,0.145,0.391,0.282,0.502,0.414l0.15,0.15l-0.201,0.15C4.852,8.064,4.34,8.345,3.68,8.549c-0.66,0.206-1.385,0.31-2.175,0.314C0.945,8.854,0.61,9.072,0.502,9.515C0.436,9.827,0.34,10.608,0.213,11.86C0.085,13.113,0.015,13.868,0,14.13c0.034,0.109,0.115,0.228,0.244,0.357s0.248,0.21,0.357,0.245c0.283-0.016,1.046-0.095,2.288-0.239c1.243-0.141,2.019-0.247,2.326-0.313c0.247-0.063,0.418-0.188,0.514-0.376c0.097-0.188,0.143-0.514,0.138-0.979c0.027-0.38,0.075-0.748,0.145-1.104c0.07-0.354,0.155-0.671,0.256-0.953c0.082-0.236,0.195-0.477,0.338-0.72C6.752,9.804,6.89,9.626,7.022,9.515l0.15-0.15l0.15,0.15c0.132,0.111,0.27,0.289,0.414,0.533c0.145,0.244,0.257,0.484,0.338,0.72c0.102,0.282,0.187,0.599,0.256,0.953c0.071,0.356,0.119,0.724,0.145,1.104c-0.004,0.464,0.042,0.79,0.138,0.979c0.096,0.188,0.267,0.313,0.514,0.376c0.308,0.067,1.083,0.172,2.326,0.313c1.243,0.144,2.006,0.222,2.289,0.239c0.109-0.034,0.228-0.116,0.357-0.245c0.128-0.128,0.21-0.248,0.244-0.357c-0.015-0.262-0.084-1.017-0.212-2.27c-0.127-1.252-0.223-2.034-0.289-2.345C13.735,9.072,13.4,8.854,12.84,8.863c-0.46-0.003-0.919-0.047-1.379-0.132s-0.869-0.191-1.229-0.32C10.021,8.33,9.804,8.217,9.58,8.072C9.356,7.929,9.189,7.791,9.079,7.659L8.928,7.508l0.202-0.149c0.364-0.355,0.875-0.636,1.536-0.84c0.658-0.206,1.384-0.31,2.175-0.313c0.56,0.008,0.895-0.209,1.003-0.652c0.065-0.312,0.161-1.094,0.289-2.346c0.128-1.251,0.199-2.009,0.212-2.27c-0.033-0.11-0.115-0.228-0.244-0.357c-0.129-0.128-0.248-0.21-0.357-0.245c-0.283,0.016-1.046,0.096-2.289,0.238c-1.243,0.143-2.018,0.247-2.325,0.313C8.882,0.95,8.711,1.076,8.615,1.265C8.519,1.452,8.472,1.778,8.477,2.242C8.45,2.623,8.402,2.99,8.332,3.346c-0.07,0.354-0.155,0.672-0.257,0.953C7.994,4.536,7.881,4.777,7.737,5.02C7.592,5.264,7.455,5.441,7.323,5.553l-0.15,0.15l-0.15-0.15C6.89,5.441,6.752,5.264,6.608,5.02C6.464,4.777,6.351,4.536,6.27,4.299C6.168,4.019,6.083,3.701,6.013,3.346C5.943,2.99,5.895,2.623,5.868,2.242c0.005-0.464-0.042-0.79-0.138-0.977C5.634,1.076,5.463,0.95,5.216,0.888C4.961,0.82,4.23,0.717,3.022,0.574c-1.208-0.142-1.964-0.222-2.27-0.238C0.652,0.344,0.551,0.378,0.451,0.436L0.451,0.436L0.451,0.436z");
            break;

        default:
            throw "INVALID_NOTE_ATT_TO_DRAW: " + element;

    }


    return mElem;
}





function DrawBar(bar, barCoords) {

    var barObj = $G.create("path"),
        barPath = "",
        topCoord = barCoords[0],
        bottomCoord = barCoords[barCoords.length - 1],
        height = bottomCoord - topCoord;

    switch(bar) {
        case "light":
            barPath += "M0,0v" + height;
            break;

        case "heavy": //Bar fallback for strange cases that has a "heavy" named bar
            barPath += "M0,0v" + height;
            break;

        case "light-light":
            barPath += "M0,0v" + height + "M6,0v" + height;
            break;

        case "dashed":
            barObj.setAttribute("stroke-dasharray", "7, 4");
            barPath += "M0,0v" + height;
            break;

        case "light-heavy":
            barPath += "M0,0v" + height + "M6,0v" + height + "h6v-" + height + "z";
            break;

        case "forward":
            barPath += "M0,0v" + height + "h6v-" + height + "zM12,0v" + height;
            for(var coord = 0; coord < barCoords.length - 1; coord++) {
                barPath += $G.createCircle(18, barCoords[coord] - topCoord + 22.5, 2);
                barPath += $G.createCircle(18,barCoords[coord] - topCoord + 37.5,2);
            }
            break;

        case "backward":
            for(var coord = 0; coord < barCoords.length - 1; coord++) {
                barPath += $G.createCircle(1, barCoords[coord] - topCoord + 22.5, 2);
                barPath += $G.createCircle(1,barCoords[coord] - topCoord + 37.5,2);
            }
            barPath += "M7,0v" + height + "M13,0v" + height + "h7v-" + height + "z";
            break;

        case "repeat_bf":
            for(var coord = 0; coord < barCoords.length - 1; coord++) {
                barPath += $G.createCircle(1, barCoords[coord] - topCoord + 22.5, 2);
                barPath += $G.createCircle(1,barCoords[coord] - topCoord + 37.5,2);
            }
            barPath += "M7,0v" + height + "M13,0v" + height + "h7v-" + height + "M26,0v" + height + "z";
            for(var coord = 0; coord < barCoords.length - 1; coord++) {
                barPath += $G.createCircle(32, barCoords[coord] - topCoord + 22.5, 2);
                barPath += $G.createCircle(32,barCoords[coord] - topCoord + 37.5,2);
            }

            break;


        default:
            throw "INVALID_BAR_TO_DRAW: " + bar;

    }

    barObj.setStrokeColor("#000");
    barObj.setAttribute("d", barPath);
    return barObj;

}

function DrawBracket(lineCoords) {
    var bracketObj = $G.create("path");
    var absHeight = lineCoords[lineCoords.length - 1] - lineCoords[0];
    bracketObj.setStrokeColor("#000");

    var dPath = "M5,-5c3.479,0,15-9.762,15-12.709 C20,-15.921 4.639,-10, 0,-10 v" + 
    (20 + absHeight).toString() + "c4.639,0,20,5.921,20,7.709 C 20," + 
    (14.762 + absHeight).toString() + " 8.479," + 
    (5 + absHeight).toString() + " 5," + 
    (5 + absHeight).toString() + "z";

    bracketObj.setAttribute("d", dPath);
    return bracketObj;
}

function DrawTempo(denominator, dotted, value) {
    var noteObj = $G.create("path"),
        notePath = "",
        nextHPos;

    switch(denominator) {
        case 2:
            notePath = "M0,27.336c0-1.338,0.636-2.522,1.908-3.552c1.272-1.056,2.619-1.583,4.041-1.583c0.823,0,1.559,0.218,2.207,0.656V0h0.823v24.981c0,1.441-0.611,2.638-1.833,3.591C5.923,29.524,4.577,30,3.105,30c-0.823,0-1.546-0.245-2.17-0.733C0.312,28.752,0,28.108,0,27.336 M1.721,28.494c1.322,0,2.656-0.579,4.003-1.737c1.372-1.158,2.057-2.021,2.057-2.586c0-0.361-0.149-0.541-0.449-0.541c-0.923,0-2.195,0.554-3.816,1.661c-1.596,1.081-2.394,1.981-2.394,2.703C1.123,28.327,1.322,28.494,1.721,28.494";
            nextHPos = 15;
            break;

        case 4:
            notePath = "M0,27.336c0-1.338,0.636-2.522,1.908-3.552c1.272-1.056,2.619-1.583,4.041-1.583c0.823,0,1.559,0.218,2.207,0.656V0h0.823v24.981c0,1.441-0.611,2.638-1.833,3.591C5.923,29.524,4.577,30,3.105,30c-0.823,0-1.546-0.245-2.17-0.733C0.312,28.752,0,28.108,0,27.336";
            nextHPos = 15;
            break;
        
        case 8:
            notePath = "M8.148,0v23.21c-0.684-0.976-3.462-1.123-5.411-0.049c-2.309,1.273-3.362,3.66-2.355,5.333c1.007,1.674,3.695,2.002,6.004,0.73c1.386-0.764,2.311-1.933,2.618-3.104c0.141-0.644,0.059-0.979,0.049-1.431V8.292c10.132,2.566,5.456,11.463,4.544,14.606C21.921,11.529,9.167,6.892,9.053,0H8.148z";
            nextHPos = 22;
            break;

        default:
            throw "INVALID_DENOMINATOR_FOR_TEMPO";
    }

    //Draw not, if specified
    if(dotted) {
        notePath += $G.createCircle(nextHPos,25,2);
        nextHPos += 7;
    } else
        nextHPos += 2;

    noteObj.setAttribute("d", notePath);
    
    //Draw equal sign
    var equalObj = $G.create("path");
    equalObj.setAttribute("d", "M" + nextHPos + ",12.5 l12,0 m-12,5 l12,0");
    equalObj.setAttribute("stroke", "#000");
    nextHPos += 19;

    //Draw text obj
    var textObj = $G.create("text");

    textObj.setAttribute("font-family", "times");
    textObj.setAttribute("font-size", "20");
    textObj.setAttribute("y", "21");
    textObj.setAttribute("x", nextHPos);
    textObj.setAttribute("font-weight", "bold");
    textObj.innerHTML = value;

    //Tempo group
    var tempoGroup = $G.create("g");
    tempoGroup.appendChild(noteObj);
    tempoGroup.appendChild(equalObj);
    tempoGroup.appendChild(textObj);

    return tempoGroup;
}

function DrawDynamic(dynamic) {
    var dObj = $G.create("path"),
        dPath = "";

    switch(dynamic) {

        case "f":
            dPath = "M19.04,12.931h3.192c0.44-0.01,0.812-0.164,1.109-0.458c0.294-0.294,0.448-0.665,0.458-1.109c-0.01-0.444-0.164-0.812-0.458-1.109c-0.294-0.296-0.665-0.45-1.109-0.46h-2.268c0.368-1.627,0.865-3.133,1.49-4.512c0.63-1.377,1.628-2.109,2.996-2.198h0.38c0.308-0.007,0.584,0.022,0.818,0.089c0.234,0.065,0.36,0.215,0.371,0.451c-0.081,0.755-0.424,1.256-1.022,1.507c-0.598,0.253-0.941,0.738-1.025,1.466c0.018,0.667,0.251,1.225,0.703,1.678c0.453,0.451,1.008,0.686,1.673,0.702C27.296,8.934,28,8.496,28.468,7.667c0.466-0.829,0.697-1.78,0.697-2.852c-0.034-1.362-0.494-2.492-1.379-3.403c-0.885-0.905-1.994-1.379-3.325-1.413c-2.513,0.094-4.791,1.096-6.838,3.01c-2.047,1.916-3.553,4.171-4.522,6.783H10.23c-0.444,0.01-0.815,0.164-1.109,0.458c-0.294,0.295-0.448,0.667-0.458,1.111c0.01,0.444,0.164,0.812,0.458,1.109c0.294,0.294,0.665,0.447,1.109,0.458h2.003l-3.57,14.227c-0.28,1.218-0.729,2.314-1.349,3.28c-0.608,0.971-1.48,1.481-2.6,1.533h-0.33c-0.332,0.01-0.619-0.021-0.868-0.094c-0.238-0.073-0.364-0.237-0.377-0.5c0.083-0.728,0.434-1.217,1.025-1.466c0.598-0.248,0.945-0.752,1.028-1.509c-0.014-0.665-0.237-1.214-0.678-1.647c-0.441-0.438-1.012-0.662-1.697-0.675c-0.921,0.041-1.622,0.472-2.097,1.291C0.244,28.184,0.003,29.144,0,30.239c0.034,1.357,0.494,2.481,1.379,3.374c0.886,0.889,1.995,1.355,3.329,1.386c1.784-0.073,3.468-0.868,5.054-2.388c1.583-1.519,2.965-3.339,4.141-5.453c1.176-2.112,2.041-4.102,2.6-5.956L19.04,12.931z";
            break;

        case "ff":
            dPath = "M19.04,12.929h3.192c0.44-0.011,0.815-0.161,1.105-0.462c0.294-0.294,0.448-0.665,0.461-1.109c-0.007-0.448-0.167-0.815-0.461-1.106c-0.291-0.295-0.665-0.449-1.105-0.463h-2.275c0.371-1.63,0.868-3.133,1.497-4.512c0.627-1.377,1.628-2.109,2.993-2.198h0.383c0.308-0.003,0.584,0.026,0.815,0.089c0.238,0.062,0.361,0.219,0.375,0.451c-0.087,0.759-0.428,1.263-1.029,1.511c-0.598,0.246-0.941,0.738-1.028,1.466c0.017,0.667,0.251,1.226,0.706,1.678c0.444,0.451,1.005,0.685,1.673,0.699c0.948-0.042,1.649-0.483,2.117-1.309c0.467-0.826,0.697-1.774,0.697-2.853c-0.036-1.358-0.494-2.492-1.379-3.402C26.891,0.504,25.782,0.031,24.447,0c-2.509,0.094-4.787,1.096-6.831,3.01c-2.047,1.909-3.557,4.175-4.525,6.783H10.22c-0.444,0.01-0.812,0.161-1.109,0.463c-0.297,0.297-0.444,0.665-0.461,1.109c0.01,0.441,0.164,0.808,0.461,1.106c0.298,0.301,0.665,0.447,1.109,0.461h2.003L8.656,27.159c-0.284,1.215-0.731,2.311-1.349,3.285c-0.615,0.969-1.48,1.473-2.603,1.528h-0.33c-0.333,0.012-0.619-0.024-0.861-0.094c-0.244-0.074-0.367-0.238-0.381-0.501c0.087-0.728,0.427-1.213,1.025-1.463c0.595-0.251,0.941-0.755,1.028-1.511c-0.014-0.667-0.244-1.215-0.678-1.649c-0.441-0.438-1.005-0.658-1.694-0.678c-0.924,0.041-1.622,0.475-2.097,1.291C0.241,28.178,0.003,29.142,0,30.24c0.034,1.36,0.494,2.481,1.383,3.377C2.265,34.506,3.37,34.973,4.705,35c1.784-0.07,3.471-0.865,5.05-2.384c1.577-1.52,2.96-3.334,4.138-5.448c1.176-2.118,2.039-4.104,2.603-5.961L19.04,12.929z M36.473,12.929h3.192c0.448-0.011,0.815-0.161,1.109-0.462c0.291-0.29,0.444-0.661,0.458-1.105c-0.007-0.448-0.164-0.815-0.458-1.105c-0.294-0.294-0.665-0.45-1.109-0.463h-2.268c0.368-1.63,0.868-3.132,1.494-4.512c0.63-1.377,1.628-2.109,2.996-2.198h0.383c0.308-0.003,0.584,0.025,0.815,0.089c0.238,0.062,0.361,0.219,0.371,0.451c-0.087,0.759-0.427,1.26-1.029,1.511C41.829,5.38,41.485,5.872,41.398,6.6c0.017,0.667,0.251,1.225,0.702,1.678c0.453,0.451,1.012,0.686,1.677,0.702c0.945-0.041,1.652-0.483,2.117-1.309c0.467-0.829,0.701-1.777,0.694-2.853c-0.033-1.362-0.494-2.492-1.379-3.406C44.328,0.504,43.222,0.031,41.887,0c-2.512,0.094-4.787,1.096-6.834,3.01c-2.044,1.909-3.556,4.175-4.525,6.783h-2.871c-0.44,0.01-0.808,0.161-1.109,0.463c-0.297,0.297-0.444,0.665-0.458,1.109c0.007,0.441,0.161,0.808,0.458,1.106c0.297,0.301,0.665,0.447,1.109,0.461h2.003l-3.566,14.228c-0.284,1.215-0.728,2.311-1.349,3.285c-0.611,0.969-1.479,1.473-2.599,1.528h-0.33c-0.332,0.012-0.622-0.024-0.868-0.094c-0.238-0.074-0.368-0.234-0.381-0.498c0.087-0.728,0.431-1.217,1.029-1.466c0.602-0.251,0.945-0.755,1.032-1.511c-0.017-0.667-0.244-1.215-0.679-1.649c-0.444-0.438-1.008-0.658-1.697-0.678c-0.921,0.041-1.62,0.475-2.1,1.291c-0.474,0.812-0.711,1.775-0.715,2.874c0.033,1.36,0.494,2.485,1.379,3.377c0.882,0.889,1.995,1.355,3.329,1.383c1.784-0.07,3.467-0.865,5.05-2.384c1.579-1.52,2.961-3.334,4.141-5.448c1.172-2.118,2.041-4.104,2.596-5.961L36.473,12.929z";
            break;

        case "fff":
            dPath = "M19.042,12.931h3.192c0.441-0.01,0.812-0.164,1.109-0.458c0.294-0.294,0.448-0.665,0.458-1.109c-0.01-0.444-0.164-0.812-0.458-1.109c-0.294-0.296-0.665-0.45-1.109-0.46h-2.271c0.368-1.627,0.865-3.133,1.494-4.512c0.631-1.377,1.629-2.109,2.992-2.198h0.378c0.31-0.007,0.584,0.022,0.82,0.089c0.234,0.065,0.36,0.215,0.371,0.451c-0.084,0.755-0.428,1.256-1.025,1.507c-0.599,0.253-0.942,0.738-1.025,1.466c0.017,0.667,0.251,1.225,0.702,1.678c0.451,0.451,1.012,0.686,1.677,0.702c0.948-0.046,1.652-0.483,2.117-1.313c0.467-0.829,0.697-1.78,0.697-2.852c-0.032-1.362-0.494-2.492-1.379-3.403c-0.886-0.909-1.995-1.379-3.329-1.413c-2.509,0.094-4.791,1.096-6.834,3.01c-2.044,1.916-3.553,4.171-4.522,6.783h-2.868C9.785,9.802,9.414,9.956,9.12,10.25c-0.294,0.295-0.448,0.667-0.458,1.111c0.01,0.444,0.164,0.812,0.458,1.109c0.294,0.294,0.665,0.447,1.109,0.458h2.003l-3.57,14.227c-0.284,1.218-0.731,2.314-1.349,3.28c-0.612,0.971-1.48,1.481-2.603,1.533H4.384c-0.336,0.01-0.622-0.021-0.868-0.094c-0.241-0.073-0.364-0.237-0.377-0.5c0.083-0.728,0.427-1.217,1.025-1.466c0.598-0.248,0.945-0.752,1.028-1.509c-0.014-0.665-0.241-1.214-0.682-1.647c-0.441-0.438-1.008-0.662-1.697-0.675c-0.921,0.041-1.622,0.472-2.097,1.291c-0.477,0.818-0.714,1.779-0.718,2.874c0.034,1.357,0.494,2.481,1.379,3.374c0.886,0.889,1.995,1.355,3.329,1.386c1.784-0.073,3.468-0.868,5.054-2.388c1.583-1.519,2.963-3.339,4.141-5.453c1.173-2.112,2.041-4.102,2.6-5.956L19.042,12.931z M36.476,12.931h3.192c0.444-0.01,0.812-0.164,1.105-0.458s0.448-0.665,0.462-1.109c-0.011-0.444-0.164-0.812-0.462-1.109c-0.294-0.296-0.661-0.45-1.105-0.46h-2.271c0.364-1.627,0.865-3.133,1.494-4.512c0.63-1.377,1.628-2.109,2.996-2.198h0.379c0.308-0.007,0.584,0.022,0.818,0.089c0.234,0.065,0.361,0.215,0.371,0.451c-0.087,0.755-0.431,1.256-1.029,1.507c-0.598,0.253-0.942,0.738-1.025,1.466c0.017,0.667,0.251,1.225,0.703,1.678c0.453,0.451,1.012,0.686,1.676,0.702c0.949-0.046,1.653-0.483,2.118-1.313c0.466-0.829,0.697-1.78,0.697-2.852c-0.031-1.362-0.494-2.492-1.379-3.403c-0.885-0.905-1.995-1.379-3.326-1.413c-2.512,0.094-4.79,1.096-6.838,3.01c-2.047,1.916-3.553,4.171-4.521,6.783h-2.868c-0.444,0.01-0.815,0.164-1.109,0.458c-0.294,0.295-0.448,0.667-0.458,1.111c0.01,0.444,0.164,0.812,0.458,1.109c0.294,0.294,0.665,0.447,1.109,0.458h2.003l-3.57,14.227c-0.284,1.218-0.731,2.314-1.348,3.28c-0.612,0.971-1.48,1.481-2.603,1.533h-0.327c-0.335,0.01-0.622-0.021-0.864-0.094c-0.241-0.073-0.368-0.237-0.378-0.5c0.084-0.728,0.431-1.217,1.025-1.466c0.598-0.248,0.945-0.752,1.029-1.509c-0.014-0.665-0.241-1.214-0.682-1.647c-0.44-0.438-1.008-0.662-1.697-0.675c-0.921,0.041-1.622,0.472-2.097,1.291c-0.477,0.818-0.714,1.779-0.718,2.874c0.036,1.357,0.494,2.481,1.379,3.374c0.885,0.889,1.995,1.355,3.329,1.386c1.784-0.073,3.467-0.868,5.053-2.388c1.586-1.519,2.965-3.339,4.141-5.453c1.172-2.112,2.041-4.102,2.599-5.956L36.476,12.931z M53.909,12.931h3.192c0.444-0.01,0.812-0.164,1.109-0.458c0.294-0.294,0.448-0.665,0.459-1.109c-0.012-0.444-0.166-0.812-0.459-1.109c-0.294-0.296-0.665-0.45-1.109-0.46H54.83c0.364-1.627,0.865-3.133,1.494-4.512c0.63-1.377,1.628-2.109,2.993-2.198h0.379c0.308-0.007,0.585,0.022,0.819,0.089c0.234,0.065,0.361,0.215,0.371,0.451c-0.083,0.755-0.427,1.256-1.025,1.507c-0.598,0.253-0.941,0.738-1.025,1.466c0.018,0.667,0.251,1.225,0.703,1.678c0.453,0.451,1.012,0.686,1.676,0.702c0.949-0.046,1.653-0.483,2.119-1.313c0.465-0.829,0.696-1.78,0.696-2.852c-0.031-1.362-0.494-2.492-1.379-3.403c-0.885-0.909-1.994-1.379-3.327-1.413c-2.514,0.094-4.792,1.096-6.836,3.01c-2.044,1.916-3.553,4.171-4.522,6.783h-2.868c-0.444,0.01-0.815,0.164-1.109,0.458c-0.294,0.295-0.447,0.667-0.458,1.111c0.011,0.444,0.164,0.812,0.458,1.109c0.294,0.294,0.665,0.447,1.109,0.458h2.003l-3.57,14.227c-0.283,1.218-0.731,2.314-1.348,3.28c-0.612,0.971-1.48,1.481-2.603,1.533h-0.326c-0.335,0.01-0.622-0.021-0.868-0.094c-0.241-0.073-0.367-0.237-0.378-0.5c0.084-0.728,0.431-1.217,1.025-1.466c0.599-0.248,0.945-0.752,1.029-1.509c-0.014-0.665-0.241-1.214-0.682-1.647c-0.441-0.438-1.008-0.662-1.697-0.675c-0.921,0.041-1.622,0.472-2.097,1.291c-0.477,0.818-0.714,1.779-0.718,2.874c0.036,1.357,0.494,2.481,1.379,3.374c0.885,0.889,1.994,1.355,3.329,1.386c1.784-0.073,3.467-0.868,5.053-2.388c1.586-1.519,2.965-3.339,4.141-5.453c1.172-2.112,2.04-4.102,2.599-5.956L53.909,12.931z";
            break;

        case "mf":
            dPath = "M0.001,17.475c0.007,0.297,0.099,0.514,0.284,0.658c0.181,0.144,0.414,0.21,0.687,0.21c0.362,0,0.718-0.109,1.063-0.333c0.345-0.224,0.602-0.563,0.779-1.021c0.308-1.002,0.779-2.017,1.418-3.042c0.636-1.029,1.35-1.581,2.15-1.667c0.239,0.003,0.417,0.092,0.533,0.26c0.109,0.164,0.167,0.388,0.167,0.662c-0.01,0.27-0.044,0.538-0.106,0.808L3.73,23.421c-0.044,0.16-0.062,0.326-0.055,0.487c0.003,0.277,0.096,0.507,0.273,0.689c0.181,0.183,0.431,0.28,0.759,0.287h1.189c0.42-0.011,0.82-0.15,1.2-0.428c0.383-0.271,0.649-0.618,0.8-1.032l3.192-9.411c0.181-0.448,0.485-0.848,0.909-1.189c0.42-0.344,0.858-0.521,1.313-0.543c0.239,0.007,0.417,0.092,0.53,0.253s0.171,0.364,0.167,0.615c0,0.137-0.014,0.284-0.041,0.434s-0.068,0.294-0.123,0.434l-2.649,9.412c-0.031,0.077-0.055,0.15-0.079,0.217c-0.021,0.066-0.031,0.137-0.034,0.217c0.003,0.305,0.106,0.551,0.304,0.738c0.202,0.19,0.479,0.284,0.837,0.291h1.189c0.42-0.011,0.807-0.15,1.169-0.426c0.362-0.273,0.598-0.62,0.725-1.034l2.704-9.411c0.154-0.448,0.438-0.846,0.851-1.189s0.834-0.521,1.258-0.543c0.27,0.008,0.461,0.103,0.581,0.287c0.12,0.183,0.178,0.414,0.174,0.69c-0.007,0.224-0.044,0.479-0.109,0.755l-2.112,8.926c-0.062,0.207-0.099,0.441-0.106,0.703c0,0.523,0.147,0.949,0.438,1.278c0.291,0.325,0.725,0.498,1.292,0.507c2-0.133,3.835-0.798,5.506-1.996c1.675-1.196,2.557-2.117,2.663-2.763c-0.007-0.25-0.089-0.441-0.253-0.589c-0.161-0.147-0.362-0.221-0.615-0.221c-0.523,0.092-1.107,0.453-1.757,1.082c-0.649,0.63-1.289,0.991-1.921,1.082c-0.113,0-0.205-0.038-0.27-0.116c-0.072-0.072-0.106-0.181-0.109-0.318c-0.003-0.063,0.007-0.154,0.055-0.27l1.894-8.06c0.031-0.137,0.055-0.284,0.075-0.434c0.024-0.15,0.038-0.294,0.038-0.434c-0.021-0.991-0.321-1.866-0.902-2.628C24.101,9,23.352,8.599,22.44,8.556c-0.793,0.007-1.576,0.197-2.345,0.564c-0.776,0.364-1.487,0.864-2.143,1.495c-0.164-0.606-0.434-1.097-0.803-1.475c-0.369-0.378-0.841-0.569-1.412-0.585c-0.793,0.007-1.576,0.183-2.345,0.528c-0.776,0.347-1.494,0.82-2.146,1.422c-0.161-0.578-0.417-1.042-0.769-1.399c-0.352-0.357-0.8-0.539-1.343-0.551C7.305,8.643,5.705,9.32,4.335,10.583c-1.367,1.263-2.427,2.601-3.186,4.007C0.394,15.993,0.011,16.956,0.001,17.475L0.001,17.475z M40.541,12.931h3.192c0.441-0.01,0.81-0.164,1.104-0.458s0.448-0.665,0.461-1.109c-0.01-0.444-0.164-0.812-0.461-1.109c-0.294-0.296-0.663-0.45-1.104-0.46h-2.27c0.366-1.627,0.865-3.133,1.494-4.512c0.632-1.377,1.627-2.109,2.991-2.198h0.376c0.311-0.007,0.584,0.022,0.82,0.089c0.232,0.065,0.362,0.215,0.369,0.451c-0.085,0.755-0.427,1.256-1.025,1.507c-0.602,0.253-0.943,0.738-1.029,1.466c0.017,0.667,0.25,1.225,0.701,1.678c0.451,0.451,1.012,0.686,1.675,0.702c0.95-0.046,1.654-0.483,2.116-1.313c0.468-0.829,0.697-1.78,0.697-2.852c-0.038-1.362-0.496-2.492-1.381-3.403c-0.885-0.909-1.996-1.379-3.329-1.413c-2.509,0.094-4.792,1.096-6.836,3.01c-2.044,1.916-3.551,4.171-4.522,6.783h-2.857c-0.441,0.01-0.81,0.164-1.104,0.458c-0.294,0.295-0.448,0.667-0.461,1.111c0.01,0.444,0.164,0.812,0.461,1.109c0.294,0.294,0.663,0.447,1.104,0.458h2.003l-3.572,14.227c-0.284,1.218-0.728,2.314-1.347,3.28c-0.612,0.971-1.48,1.481-2.604,1.533h-0.325c-0.335,0.01-0.622-0.021-0.865-0.094c-0.239-0.073-0.366-0.237-0.376-0.5c0.082-0.728,0.427-1.217,1.025-1.466c0.598-0.248,0.947-0.752,1.029-1.509c-0.014-0.665-0.239-1.214-0.68-1.647c-0.444-0.438-1.012-0.662-1.699-0.675c-0.923,0.041-1.624,0.472-2.099,1.291c-0.479,0.818-0.714,1.779-0.718,2.874c0.034,1.357,0.496,2.481,1.381,3.374c0.885,0.889,1.993,1.355,3.329,1.386c1.784-0.073,3.466-0.868,5.052-2.388c1.579-1.519,2.963-3.339,4.143-5.453c1.172-2.112,2.041-4.102,2.598-5.956L40.541,12.931z";
            break;

        case "mp":
            dPath = "M0,8.476C0.004,8.76,0.097,8.964,0.274,9.099c0.172,0.139,0.389,0.2,0.65,0.197c0.348,0,0.678-0.103,1.007-0.312c0.322-0.211,0.566-0.539,0.73-0.97c0.294-0.95,0.742-1.914,1.35-2.889c0.6-0.975,1.282-1.5,2.037-1.581c0.228,0.009,0.401,0.09,0.506,0.249C6.661,3.95,6.718,4.159,6.718,4.418C6.709,4.68,6.674,4.937,6.617,5.188l-3.082,8.933c-0.042,0.153-0.06,0.308-0.05,0.463c0,0.263,0.087,0.476,0.259,0.653c0.167,0.173,0.408,0.265,0.715,0.268h1.13c0.4-0.007,0.782-0.146,1.14-0.402c0.361-0.263,0.616-0.586,0.759-0.981l3.027-8.933c0.173-0.424,0.458-0.802,0.86-1.127c0.398-0.324,0.816-0.494,1.244-0.517c0.232,0.007,0.401,0.085,0.509,0.24c0.105,0.153,0.163,0.346,0.158,0.582c0,0.128-0.013,0.268-0.039,0.407c-0.025,0.146-0.06,0.283-0.115,0.411l-2.511,8.933c-0.028,0.076-0.053,0.144-0.072,0.207c-0.016,0.063-0.029,0.126-0.029,0.2c0.005,0.287,0.097,0.523,0.29,0.698c0.188,0.182,0.453,0.276,0.786,0.281h1.13c0.397-0.009,0.768-0.146,1.106-0.406c0.345-0.261,0.573-0.584,0.688-0.979l2.569-8.933c0.147-0.425,0.414-0.802,0.804-1.127c0.394-0.328,0.787-0.499,1.191-0.517c0.256,0.004,0.439,0.099,0.555,0.271c0.11,0.175,0.165,0.389,0.165,0.651c-0.009,0.218-0.043,0.46-0.101,0.721l-2.001,8.472c-0.06,0.193-0.091,0.416-0.101,0.667c0,0.497,0.143,0.901,0.419,1.213c0.276,0.31,0.683,0.47,1.226,0.481c1.895-0.128,3.637-0.764,5.221-1.896c1.584-1.134,2.43-2.008,2.527-2.624c-0.004-0.231-0.084-0.416-0.239-0.559c-0.154-0.137-0.347-0.205-0.584-0.209c-0.496,0.085-1.056,0.427-1.666,1.022c-0.611,0.6-1.223,0.939-1.824,1.026c-0.105,0-0.188-0.036-0.255-0.112c-0.066-0.067-0.101-0.17-0.101-0.296c-0.004-0.063,0.011-0.146,0.055-0.26l1.799-7.648c0.025-0.126,0.048-0.268,0.071-0.407c0.016-0.146,0.03-0.276,0.03-0.409c-0.019-0.937-0.304-1.772-0.854-2.498C22.877,0.422,22.17,0.038,21.303,0c-0.75,0.004-1.494,0.184-2.223,0.532c-0.733,0.346-1.41,0.824-2.035,1.422c-0.154-0.575-0.41-1.044-0.766-1.401c-0.355-0.355-0.798-0.542-1.339-0.548c-0.752,0.004-1.493,0.175-2.227,0.501c-0.735,0.333-1.412,0.779-2.033,1.35c-0.151-0.55-0.397-0.993-0.733-1.328c-0.333-0.334-0.754-0.512-1.27-0.519C6.937,0.094,5.421,0.734,4.124,1.931C2.829,3.129,1.822,4.398,1.102,5.734C0.377,7.068,0.011,7.98,0,8.476L0,8.476z M33.837,14.121c-0.58-0.011-0.996-0.193-1.238-0.55c-0.241-0.361-0.36-0.824-0.352-1.395c0.002-0.887,0.235-2.046,0.674-3.464c0.444-1.421,1.065-2.704,1.866-3.85c0.801-1.15,1.731-1.754,2.798-1.819c0.458,0.011,0.788,0.18,0.99,0.501c0.2,0.319,0.296,0.719,0.292,1.19c0,0.375-0.172,1.303-0.518,2.798c-0.347,1.492-0.892,2.938-1.635,4.34C35.977,13.27,35.018,14.022,33.837,14.121L33.837,14.121zM22.963,8.425c0.007,0.308,0.118,0.541,0.325,0.689c0.204,0.155,0.458,0.233,0.752,0.233c0.917-0.076,1.591-0.625,2.017-1.635c0.428-1.013,0.845-2.023,1.253-3.039c0.409-1.013,1.047-1.559,1.916-1.635c0.154,0,0.259,0.038,0.322,0.11c0.06,0.079,0.092,0.189,0.084,0.348c0,0.157-0.034,0.355-0.101,0.582c-0.064,0.231-0.152,0.465-0.257,0.698l-4.722,13.962c-0.439,1.076-1.1,1.689-1.973,1.837c-0.874,0.144-1.688,0.233-2.432,0.256c-0.74,0.022-1.138,0.382-1.184,1.089c0,0.267,0.087,0.514,0.264,0.73c0.175,0.22,0.43,0.334,0.762,0.348c0.087-0.009,0.656-0.054,1.702-0.128c1.047-0.074,2.342-0.119,3.894-0.128c1.503,0.006,2.774,0.054,3.81,0.128c1.038,0.074,1.617,0.119,1.733,0.128c0.333-0.011,0.589-0.128,0.764-0.346c0.176-0.216,0.264-0.463,0.264-0.73c-0.03-0.631-0.259-0.961-0.676-1.006c-0.423-0.038-0.84-0.112-1.26-0.223c-0.423-0.107-0.647-0.593-0.676-1.446c0-0.202,0.021-0.397,0.064-0.588c0.042-0.189,0.09-0.386,0.143-0.586l0.874-2.614c0.212-0.512,0.713-0.555,1.509-0.13c0.795,0.427,2.004,0.689,3.626,0.793c1.619-0.034,3.355-0.912,5.203-2.642c1.844-1.734,2.847-4.099,3.011-7.106c-0.002-1.7-0.479-3.095-1.419-4.176c-0.938-1.08-2.293-1.64-4.073-1.673c-0.913,0.014-1.842,0.256-2.779,0.737c-0.936,0.481-1.771,1.121-2.511,1.932c-0.177-0.768-0.526-1.395-1.035-1.898c-0.516-0.503-1.191-0.754-2.04-0.777c-1.417,0.087-2.655,0.723-3.724,1.911c-1.067,1.193-1.9,2.417-2.495,3.666C23.278,7.356,22.97,8.137,22.963,8.425L22.963,8.425z";
            break;

        case "p":
            dPath = "M15.226,13.919c-0.593-0.011-1.015-0.198-1.264-0.565c-0.25-0.366-0.373-0.842-0.364-1.431c0.007-0.909,0.241-2.091,0.694-3.544c0.451-1.454,1.091-2.767,1.905-3.939c0.82-1.174,1.774-1.795,2.864-1.863c0.469,0.014,0.809,0.184,1.013,0.512c0.205,0.329,0.306,0.737,0.301,1.222c0.002,0.384-0.173,1.339-0.53,2.866c-0.355,1.527-0.912,3.005-1.671,4.44C17.416,13.047,16.434,13.816,15.226,13.919L15.226,13.919z M4.096,8.089c0.009,0.314,0.122,0.551,0.335,0.708c0.215,0.156,0.469,0.236,0.771,0.236C6.14,8.954,6.83,8.397,7.261,7.36c0.438-1.038,0.862-2.073,1.285-3.109c0.42-1.038,1.074-1.594,1.958-1.675c0.155,0,0.265,0.04,0.33,0.117c0.061,0.081,0.092,0.198,0.09,0.355c-0.002,0.163-0.038,0.36-0.105,0.598c-0.067,0.234-0.153,0.474-0.263,0.715L5.727,18.64c-0.452,1.104-1.127,1.732-2.021,1.881c-0.896,0.153-1.725,0.239-2.489,0.26C0.456,20.808,0.052,21.178,0,21.898c0,0.276,0.092,0.526,0.27,0.748c0.18,0.222,0.44,0.34,0.779,0.354c0.092-0.011,0.672-0.055,1.741-0.131c1.067-0.075,2.396-0.119,3.985-0.131c1.534,0.012,2.836,0.056,3.899,0.131c1.063,0.076,1.653,0.12,1.77,0.131c0.341-0.014,0.604-0.131,0.779-0.354c0.18-0.224,0.27-0.474,0.27-0.748c-0.034-0.644-0.263-0.985-0.694-1.023c-0.431-0.039-0.86-0.115-1.292-0.23c-0.431-0.116-0.663-0.607-0.696-1.479c0.002-0.207,0.024-0.409,0.067-0.603c0.042-0.193,0.094-0.396,0.146-0.604l0.896-2.677c0.216-0.524,0.726-0.568,1.543-0.131c0.811,0.435,2.049,0.707,3.706,0.814c1.662-0.035,3.432-0.935,5.321-2.704c1.889-1.769,2.917-4.191,3.077-7.273c-0.007-1.744-0.492-3.167-1.451-4.273C23.157,0.607,21.769,0.037,19.949,0c-0.937,0.011-1.882,0.265-2.841,0.755c-0.957,0.492-1.813,1.15-2.567,1.975c-0.184-0.779-0.537-1.426-1.062-1.937C12.951,0.283,12.255,0.018,11.387,0C9.943,0.09,8.674,0.741,7.583,1.958C6.491,3.174,5.637,4.425,5.027,5.711C4.418,6.999,4.103,7.793,4.096,8.089L4.096,8.089z";
            break;

        case "pp":
            dPath = "M15.229,13.919c-0.596-0.011-1.019-0.198-1.268-0.565c-0.248-0.366-0.369-0.842-0.36-1.431c0.007-0.909,0.239-2.091,0.692-3.544c0.454-1.454,1.09-2.767,1.907-3.939c0.816-1.174,1.771-1.795,2.864-1.865c0.47,0.013,0.805,0.184,1.01,0.512c0.204,0.329,0.305,0.737,0.301,1.222c0.002,0.386-0.172,1.341-0.529,2.868c-0.356,1.527-0.913,3.005-1.672,4.44C17.414,13.047,16.432,13.816,15.229,13.919L15.229,13.919z M4.095,8.089c0.01,0.314,0.122,0.551,0.335,0.708C4.645,8.954,4.9,9.034,5.2,9.034c0.94-0.08,1.628-0.637,2.063-1.673c0.437-1.038,0.862-2.073,1.282-3.109c0.419-1.038,1.07-1.594,1.958-1.675c0.156,0,0.265,0.04,0.329,0.117c0.062,0.081,0.094,0.198,0.092,0.355c-0.002,0.163-0.04,0.36-0.105,0.598c-0.067,0.234-0.154,0.474-0.263,0.715L5.726,18.644c-0.451,1.104-1.125,1.732-2.022,1.881c-0.896,0.153-1.725,0.239-2.489,0.26c-0.76,0.022-1.166,0.393-1.214,1.113c0,0.276,0.092,0.526,0.27,0.748c0.179,0.222,0.439,0.34,0.782,0.354c0.092-0.011,0.671-0.055,1.738-0.131c1.068-0.075,2.396-0.119,3.983-0.131c1.534,0.012,2.837,0.056,3.899,0.131c1.063,0.076,1.653,0.12,1.773,0.131c0.342-0.014,0.602-0.131,0.781-0.354c0.18-0.224,0.27-0.474,0.27-0.748c-0.035-0.644-0.265-0.985-0.695-1.023c-0.43-0.039-0.86-0.115-1.291-0.23c-0.43-0.116-0.663-0.607-0.694-1.479c0.002-0.207,0.022-0.409,0.066-0.603c0.042-0.193,0.09-0.396,0.145-0.604l0.893-2.677c0.216-0.524,0.729-0.568,1.543-0.131c0.812,0.435,2.049,0.707,3.707,0.814c1.661-0.035,3.434-0.935,5.322-2.704c1.889-1.769,2.917-4.191,3.078-7.273c-0.007-1.744-0.493-3.167-1.452-4.273C23.162,0.607,21.772,0.037,19.953,0c-0.938,0.011-1.886,0.265-2.843,0.755c-0.957,0.492-1.813,1.15-2.566,1.975c-0.184-0.779-0.539-1.426-1.063-1.937C12.957,0.283,12.26,0.018,11.393,0C9.949,0.09,8.679,0.741,7.586,1.958C6.495,3.174,5.643,4.425,5.029,5.711C4.417,6.999,4.107,7.793,4.095,8.089L4.095,8.089z M34.407,13.919c-0.595-0.011-1.019-0.198-1.267-0.565c-0.249-0.366-0.368-0.842-0.361-1.431c0.007-0.909,0.239-2.091,0.693-3.544c0.455-1.454,1.089-2.767,1.906-3.939c0.816-1.174,1.771-1.795,2.864-1.865c0.469,0.013,0.805,0.184,1.01,0.512c0.204,0.329,0.307,0.737,0.301,1.222c0.003,0.384-0.172,1.338-0.529,2.866c-0.356,1.527-0.913,3.005-1.671,4.441C36.594,13.047,35.612,13.816,34.407,13.919L34.407,13.919z M23.275,8.089c0.009,0.314,0.122,0.551,0.336,0.708c0.213,0.156,0.469,0.236,0.768,0.236c0.938-0.08,1.628-0.637,2.063-1.673c0.435-1.038,0.863-2.073,1.281-3.109c0.418-1.038,1.072-1.594,1.959-1.675c0.157,0,0.265,0.04,0.329,0.117c0.065,0.081,0.094,0.198,0.092,0.355C30.101,3.211,30.067,3.408,30,3.646c-0.069,0.234-0.156,0.474-0.262,0.715l-4.833,14.283c-0.452,1.104-1.125,1.732-2.02,1.881c-0.897,0.153-1.725,0.239-2.488,0.26c-0.762,0.022-1.167,0.393-1.215,1.113c0,0.276,0.09,0.526,0.27,0.748c0.18,0.222,0.439,0.34,0.782,0.354c0.092-0.011,0.671-0.055,1.739-0.131c1.067-0.075,2.397-0.119,3.984-0.131c1.536,0.012,2.835,0.056,3.898,0.131c1.063,0.076,1.654,0.12,1.773,0.131c0.342-0.014,0.603-0.131,0.781-0.354c0.178-0.224,0.268-0.474,0.27-0.748c-0.032-0.644-0.264-0.985-0.694-1.023c-0.43-0.039-0.86-0.115-1.291-0.23c-0.43-0.116-0.663-0.607-0.695-1.479c0.002-0.207,0.023-0.409,0.064-0.603c0.042-0.193,0.09-0.396,0.145-0.604l0.893-2.677c0.214-0.524,0.729-0.568,1.541-0.131c0.814,0.435,2.049,0.707,3.708,0.814c1.66-0.035,3.433-0.935,5.322-2.704c1.89-1.769,2.917-4.191,3.077-7.273c-0.007-1.744-0.49-3.167-1.449-4.273C42.342,0.607,40.953,0.037,39.131,0c-0.937,0.011-1.884,0.265-2.841,0.755c-0.959,0.492-1.812,1.15-2.566,1.975c-0.184-0.779-0.538-1.426-1.062-1.937C32.135,0.283,31.439,0.018,30.573,0c-1.444,0.09-2.715,0.741-3.806,1.958c-1.093,1.216-1.944,2.467-2.559,3.753C23.596,6.999,23.284,7.793,23.275,8.089L23.275,8.089z";
            break;

        case "ppp":
            dPath = "M15.229,13.912c-0.596-0.009-1.019-0.197-1.268-0.562c-0.248-0.363-0.367-0.843-0.36-1.43c0.007-0.908,0.239-2.091,0.692-3.544c0.454-1.454,1.09-2.768,1.905-3.943c0.816-1.172,1.771-1.795,2.864-1.862c0.467,0.011,0.805,0.184,1.009,0.51c0.205,0.332,0.306,0.737,0.301,1.224c0.002,0.384-0.172,1.339-0.529,2.864c-0.356,1.527-0.913,3.007-1.672,4.438C17.413,13.045,16.431,13.812,15.229,13.912L15.229,13.912z M4.096,8.085c0.01,0.316,0.123,0.552,0.336,0.711c0.212,0.156,0.467,0.235,0.769,0.235c0.938-0.077,1.625-0.637,2.063-1.673c0.437-1.038,0.865-2.073,1.28-3.112c0.417-1.038,1.07-1.595,1.958-1.672c0.154,0,0.265,0.038,0.329,0.117c0.064,0.081,0.097,0.195,0.092,0.357c-0.002,0.161-0.04,0.358-0.105,0.593c-0.067,0.237-0.154,0.476-0.263,0.717l-4.83,14.279c-0.45,1.107-1.124,1.734-2.021,1.887c-0.898,0.153-1.727,0.234-2.489,0.261C0.453,20.808,0.048,21.176,0,21.899c0,0.274,0.092,0.523,0.27,0.743C0.448,22.87,0.708,22.984,1.049,23c0.092-0.012,0.672-0.054,1.739-0.13c1.072-0.077,2.398-0.117,3.985-0.131c1.539,0.014,2.837,0.054,3.902,0.131c1.064,0.076,1.653,0.118,1.771,0.13c0.345-0.016,0.604-0.13,0.779-0.354c0.182-0.223,0.27-0.472,0.271-0.746c-0.032-0.643-0.265-0.988-0.695-1.024c-0.433-0.04-0.86-0.116-1.291-0.229c-0.432-0.117-0.663-0.611-0.694-1.482c0.002-0.207,0.022-0.409,0.064-0.603c0.043-0.197,0.092-0.396,0.147-0.602l0.895-2.682c0.213-0.523,0.729-0.566,1.541-0.131s2.047,0.705,3.707,0.813c1.661-0.036,3.437-0.935,5.324-2.704c1.889-1.769,2.917-4.192,3.079-7.27c-0.007-1.745-0.491-3.167-1.452-4.273C23.165,0.607,21.776,0.037,19.954,0c-0.936,0.009-1.883,0.263-2.842,0.755c-0.955,0.489-1.813,1.15-2.564,1.975c-0.184-0.779-0.537-1.426-1.063-1.937C12.958,0.283,12.264,0.016,11.396,0C9.953,0.087,8.682,0.741,7.589,1.955C6.5,3.174,5.646,4.425,5.032,5.708C4.416,6.996,4.106,7.787,4.096,8.085L4.096,8.085z M34.406,13.912c-0.595-0.009-1.019-0.197-1.267-0.562c-0.249-0.363-0.366-0.841-0.359-1.43c0.007-0.908,0.239-2.091,0.693-3.544c0.452-1.454,1.089-2.768,1.903-3.943c0.816-1.172,1.771-1.795,2.864-1.862c0.469,0.011,0.805,0.187,1.01,0.51c0.204,0.332,0.307,0.737,0.301,1.224c0.006,0.384-0.172,1.339-0.529,2.864c-0.356,1.527-0.913,3.007-1.672,4.438C36.593,13.045,35.611,13.812,34.406,13.912L34.406,13.912z M23.276,8.085c0.009,0.316,0.121,0.552,0.336,0.711c0.211,0.156,0.469,0.235,0.768,0.235c0.94-0.077,1.628-0.637,2.063-1.673c0.437-1.038,0.862-2.073,1.284-3.112c0.417-1.035,1.069-1.595,1.956-1.674c0.155,0,0.265,0.038,0.332,0.117c0.063,0.081,0.094,0.195,0.092,0.357c-0.002,0.163-0.036,0.36-0.103,0.595c-0.069,0.237-0.156,0.476-0.262,0.717l-4.83,14.279c-0.452,1.105-1.125,1.734-2.02,1.885c-0.906,0.155-1.731,0.236-2.493,0.263c-0.764,0.022-1.171,0.391-1.217,1.114c0,0.274,0.092,0.523,0.27,0.743c0.177,0.228,0.437,0.342,0.779,0.357c0.092-0.012,0.672-0.054,1.739-0.13c1.07-0.077,2.397-0.122,3.984-0.133c1.536,0.011,2.833,0.054,3.898,0.133c1.063,0.076,1.654,0.118,1.771,0.13c0.34-0.016,0.605-0.13,0.78-0.354c0.18-0.223,0.27-0.472,0.27-0.746c-0.033-0.643-0.265-0.988-0.695-1.024c-0.43-0.04-0.86-0.116-1.288-0.229c-0.43-0.117-0.662-0.611-0.694-1.482c0.002-0.207,0.022-0.409,0.064-0.603c0.042-0.197,0.092-0.396,0.145-0.606l0.895-2.677c0.213-0.526,0.729-0.566,1.541-0.133c0.814,0.434,2.047,0.707,3.708,0.815c1.657-0.041,3.433-0.937,5.322-2.711c1.89-1.766,2.913-4.19,3.077-7.268c-0.007-1.744-0.49-3.167-1.449-4.273C42.341,0.607,40.954,0.037,39.135,0c-0.937,0.011-1.884,0.265-2.844,0.755c-0.957,0.489-1.811,1.15-2.566,1.975c-0.184-0.779-0.536-1.426-1.063-1.937C32.136,0.283,31.441,0.016,30.574,0c-1.446,0.09-2.714,0.741-3.806,1.958c-1.092,1.218-1.946,2.47-2.558,3.753C23.598,6.996,23.285,7.787,23.276,8.085L23.276,8.085z M53.585,13.912c-0.595-0.009-1.019-0.197-1.267-0.562c-0.248-0.363-0.369-0.841-0.359-1.43c0.008-0.908,0.239-2.091,0.693-3.544c0.455-1.454,1.088-2.768,1.905-3.943c0.816-1.172,1.771-1.795,2.862-1.862c0.47,0.011,0.808,0.187,1.012,0.51c0.203,0.332,0.307,0.737,0.302,1.224c0.005,0.384-0.173,1.339-0.529,2.864c-0.355,1.527-0.911,3.007-1.672,4.438C55.773,13.045,54.79,13.812,53.585,13.912L53.585,13.912z M42.454,8.085c0.009,0.316,0.122,0.552,0.333,0.711C43,8.952,43.259,9.031,43.555,9.031c0.941-0.077,1.628-0.637,2.063-1.673c0.437-1.038,0.862-2.073,1.281-3.112c0.419-1.035,1.069-1.595,1.96-1.674c0.154,0,0.264,0.038,0.329,0.117c0.062,0.081,0.093,0.195,0.091,0.357c0,0.163-0.036,0.36-0.101,0.595c-0.068,0.237-0.158,0.476-0.262,0.717l-4.833,14.279c-0.45,1.105-1.124,1.734-2.019,1.885c-0.9,0.153-1.725,0.236-2.489,0.261c-0.764,0.022-1.168,0.391-1.22,1.111c0,0.274,0.092,0.526,0.27,0.746c0.178,0.229,0.439,0.339,0.779,0.354c0.092-0.011,0.669-0.054,1.74-0.13c1.069-0.076,2.396-0.121,3.983-0.133c1.539,0.012,2.836,0.055,3.9,0.133c1.063,0.076,1.654,0.119,1.771,0.13c0.34-0.016,0.601-0.13,0.779-0.354c0.18-0.223,0.268-0.472,0.27-0.746c-0.032-0.642-0.264-0.988-0.694-1.023c-0.43-0.036-0.86-0.117-1.288-0.229c-0.433-0.117-0.663-0.611-0.695-1.482c0.002-0.207,0.024-0.409,0.065-0.602c0.04-0.198,0.091-0.396,0.145-0.606l0.892-2.678c0.216-0.525,0.729-0.566,1.543-0.133c0.814,0.434,2.047,0.708,3.708,0.815c1.66-0.04,3.436-0.937,5.322-2.711c1.888-1.766,2.917-4.19,3.08-7.268c-0.007-1.744-0.49-3.167-1.451-4.273C61.518,0.607,60.129,0.037,58.31,0c-0.937,0.011-1.883,0.265-2.842,0.755C54.51,1.244,53.655,1.905,52.9,2.73c-0.184-0.779-0.536-1.426-1.063-1.937C51.311,0.283,50.613,0.016,49.747,0c-1.447,0.087-2.711,0.741-3.804,1.955c-1.093,1.219-1.946,2.47-2.559,3.753C42.776,6.996,42.462,7.787,42.454,8.085L42.454,8.085z";
            break;

        case "sfz":
            dPath = "M5.354,12.659c0.022-0.543,0.25-0.95,0.69-1.219c0.441-0.273,0.966-0.406,1.583-0.406c0.304,0.012,0.549,0.112,0.738,0.313c0.188,0.198,0.284,0.438,0.291,0.716c-0.014,0.228-0.07,0.407-0.162,0.526c-0.094,0.122-0.147,0.272-0.161,0.448c0.01,0.308,0.179,0.584,0.5,0.815c0.323,0.234,0.731,0.361,1.232,0.371c0.461-0.01,0.818-0.178,1.075-0.494c0.251-0.314,0.381-0.711,0.385-1.183c0.007-0.805-0.361-1.576-1.103-2.3S8.516,9.134,6.926,9.084c-1.386,0.039-2.538,0.543-3.447,1.509c-0.911,0.966-1.386,2.16-1.422,3.577c0.066,0.938,0.54,1.649,1.418,2.143c0.875,0.492,1.753,0.993,2.628,1.504s1.347,1.261,1.417,2.25c-0.038,0.841-0.424,1.485-1.159,1.926c-0.731,0.441-1.593,0.665-2.575,0.668c-0.395,0-0.752-0.091-1.068-0.271c-0.314-0.178-0.482-0.431-0.5-0.755c0.049-0.354,0.25-0.624,0.596-0.802c0.345-0.187,0.545-0.438,0.595-0.764c-0.01-0.504-0.179-0.925-0.5-1.26c-0.323-0.34-0.731-0.515-1.232-0.528c-0.542,0.024-0.955,0.258-1.242,0.709C0.147,19.445,0.003,19.963,0,20.555c0.027,1.222,0.434,2.24,1.211,3.059c0.779,0.815,1.764,1.239,2.953,1.27c1.863-0.045,3.417-0.658,4.659-1.844c1.246-1.186,1.894-2.681,1.943-4.484c-0.067-1.176-0.533-2.068-1.401-2.683c-0.872-0.613-1.738-1.138-2.606-1.576C5.887,13.859,5.421,13.312,5.354,12.659L5.354,12.659z M23.317,12.931h3.192c0.444-0.01,0.815-0.164,1.109-0.458s0.448-0.665,0.458-1.109c-0.01-0.444-0.164-0.812-0.458-1.109c-0.294-0.296-0.665-0.45-1.109-0.46h-2.273c0.364-1.627,0.865-3.133,1.495-4.512c0.631-1.377,1.627-2.109,2.996-2.198h0.377c0.308-0.007,0.584,0.022,0.819,0.089c0.236,0.065,0.36,0.215,0.371,0.451c-0.083,0.755-0.425,1.256-1.025,1.507c-0.598,0.253-0.945,0.738-1.029,1.466c0.019,0.667,0.253,1.225,0.704,1.678c0.451,0.451,1.012,0.686,1.677,0.702c0.945-0.046,1.652-0.483,2.117-1.313c0.465-0.829,0.697-1.78,0.697-2.852c-0.036-1.362-0.494-2.492-1.379-3.403c-0.887-0.909-1.996-1.379-3.329-1.413c-2.512,0.094-4.792,1.096-6.836,3.01c-2.044,1.916-3.551,4.171-4.522,6.783h-2.866c-0.444,0.01-0.812,0.164-1.109,0.458c-0.294,0.295-0.448,0.667-0.46,1.111c0.012,0.444,0.166,0.812,0.46,1.109c0.294,0.294,0.665,0.447,1.109,0.458h2.001l-3.574,14.227c-0.284,1.218-0.731,2.314-1.343,3.28c-0.612,0.971-1.48,1.481-2.604,1.533H8.659c-0.336,0.01-0.627-0.021-0.868-0.094c-0.241-0.073-0.367-0.237-0.377-0.5c0.083-0.728,0.427-1.217,1.025-1.466c0.598-0.248,0.941-0.752,1.029-1.509c-0.014-0.665-0.241-1.214-0.684-1.647c-0.441-0.438-1.007-0.662-1.697-0.675c-0.923,0.041-1.62,0.472-2.097,1.291c-0.475,0.818-0.713,1.779-0.716,2.874c0.034,1.357,0.492,2.481,1.379,3.374c0.885,0.889,1.994,1.355,3.327,1.386c1.786-0.073,3.469-0.868,5.05-2.388c1.583-1.519,2.965-3.339,4.141-5.453c1.176-2.112,2.041-4.102,2.601-5.956L23.317,12.931z M34.149,14.5h1.95h0.161l-8.71,8.437c-0.217,0.273-0.327,0.543-0.327,0.813c0.01,0.308,0.126,0.571,0.347,0.79c0.22,0.222,0.483,0.337,0.791,0.347c0.402-0.037,0.708-0.191,0.921-0.458c0.212-0.267,0.842-0.424,1.894-0.458c0.875,0.132,1.533,0.665,1.974,1.597c0.441,0.93,1.099,1.463,1.974,1.594c1.97-0.003,3.71-0.455,5.207-1.343c1.499-0.892,2.285-2.191,2.367-3.903c0.017-0.314-0.099-1.049-0.351-2.205c-0.253-1.155-0.75-1.808-1.488-1.963c-0.284,0.003-0.539,0.105-0.769,0.299c-0.231,0.195-0.354,0.455-0.364,0.786c0.01,0.217,0.044,0.39,0.108,0.511c0.063,0.127,0.099,0.351,0.109,0.675c-0.026,0.728-0.34,1.345-0.949,1.853c-0.61,0.507-1.355,0.776-2.247,0.798c-0.718-0.05-1.39-0.277-2.023-0.69c-0.629-0.412-1.292-0.723-1.981-0.934l8.278-7.952c0.217-0.27,0.325-0.54,0.325-0.813c-0.01-0.308-0.126-0.584-0.347-0.815c-0.221-0.234-0.482-0.361-0.792-0.371c-0.395,0.05-0.752,0.25-1.066,0.595c-0.316,0.347-0.805,0.547-1.473,0.595c-0.928-0.073-1.782-0.381-2.563-0.919c-0.779-0.54-1.624-0.844-2.522-0.921c-0.791,0.057-1.495,0.487-2.11,1.285c-0.617,0.798-0.942,1.634-0.973,2.502c0.003,0.238,0.077,0.41,0.221,0.508c0.147,0.098,0.342,0.147,0.588,0.144c0.345-0.014,0.79-0.077,1.33-0.188C32.175,14.58,33.019,14.517,34.149,14.5L34.149,14.5z";
            break;

        case "fp":
            dPath = "M19.04,12.931h3.192c0.44-0.01,0.812-0.164,1.109-0.458c0.294-0.294,0.448-0.665,0.458-1.109c-0.01-0.444-0.164-0.813-0.458-1.109c-0.294-0.296-0.665-0.45-1.109-0.46h-2.268c0.368-1.627,0.865-3.133,1.49-4.512c0.63-1.377,1.628-2.109,2.996-2.198h0.38c0.308-0.007,0.584,0.022,0.818,0.089c0.234,0.065,0.36,0.215,0.371,0.451c-0.081,0.755-0.424,1.256-1.022,1.507c-0.598,0.253-0.941,0.738-1.025,1.466c0.018,0.667,0.251,1.225,0.703,1.678c0.453,0.451,1.008,0.686,1.673,0.702c0.948-0.044,1.652-0.482,2.12-1.311c0.466-0.829,0.697-1.78,0.697-2.852c-0.034-1.362-0.494-2.492-1.379-3.403c-0.885-0.905-1.994-1.379-3.325-1.413c-2.513,0.094-4.791,1.096-6.838,3.01c-2.047,1.916-3.553,4.171-4.522,6.783H10.23c-0.444,0.01-0.815,0.164-1.109,0.458c-0.294,0.295-0.448,0.667-0.458,1.111c0.01,0.444,0.164,0.812,0.458,1.109c0.294,0.294,0.665,0.447,1.109,0.458h2.003l-3.57,14.228c-0.28,1.218-0.729,2.313-1.349,3.28c-0.608,0.971-1.48,1.481-2.6,1.533h-0.33c-0.332,0.01-0.619-0.021-0.868-0.094c-0.238-0.073-0.364-0.237-0.377-0.5c0.083-0.728,0.434-1.217,1.025-1.466c0.598-0.248,0.945-0.752,1.028-1.509c-0.014-0.665-0.237-1.214-0.678-1.647c-0.441-0.438-1.012-0.662-1.697-0.675c-0.921,0.041-1.622,0.472-2.097,1.291C0.244,28.184,0.003,29.144,0,30.239c0.034,1.357,0.494,2.48,1.379,3.374c0.886,0.889,1.995,1.355,3.329,1.386c1.784-0.073,3.468-0.868,5.054-2.388c1.583-1.519,2.965-3.339,4.141-5.453c1.176-2.112,2.041-4.102,2.6-5.956L19.04,12.931zM30.392,25.918c-0.594-0.011-1.016-0.198-1.265-0.565c-0.25-0.365-0.373-0.842-0.363-1.431c0.007-0.909,0.24-2.091,0.693-3.544c0.451-1.454,1.091-2.767,1.905-3.939c0.82-1.174,1.774-1.795,2.864-1.863c0.469,0.014,0.809,0.184,1.013,0.512c0.205,0.329,0.306,0.737,0.301,1.222c0.002,0.384-0.173,1.339-0.529,2.866c-0.355,1.527-0.912,3.005-1.672,4.44C32.581,25.046,31.6,25.815,30.392,25.918L30.392,25.918z M19.262,20.088c0.009,0.314,0.121,0.551,0.335,0.708c0.215,0.156,0.469,0.236,0.771,0.236c0.938-0.079,1.628-0.636,2.06-1.673c0.438-1.038,0.861-2.073,1.284-3.109c0.42-1.038,1.074-1.594,1.958-1.675c0.155,0,0.266,0.04,0.33,0.117c0.062,0.081,0.092,0.198,0.09,0.355c-0.002,0.163-0.037,0.36-0.104,0.598c-0.067,0.234-0.153,0.474-0.263,0.715l-4.829,14.284c-0.452,1.104-1.127,1.731-2.021,1.881c-0.896,0.152-1.725,0.238-2.489,0.26c-0.761,0.023-1.165,0.393-1.217,1.113c0,0.275,0.092,0.525,0.271,0.748c0.18,0.222,0.439,0.34,0.778,0.354c0.093-0.011,0.673-0.055,1.741-0.131c1.067-0.075,2.396-0.119,3.985-0.131c1.534,0.012,2.836,0.056,3.898,0.131c1.063,0.076,1.653,0.12,1.771,0.131c0.341-0.014,0.604-0.131,0.779-0.354c0.18-0.225,0.27-0.475,0.27-0.748c-0.034-0.645-0.263-0.985-0.694-1.023c-0.431-0.039-0.859-0.115-1.292-0.23c-0.431-0.115-0.662-0.606-0.695-1.479c0.002-0.207,0.023-0.409,0.066-0.604c0.042-0.192,0.095-0.396,0.146-0.604l0.896-2.677c0.217-0.524,0.727-0.568,1.543-0.132c0.812,0.436,2.05,0.707,3.706,0.814c1.662-0.035,3.433-0.935,5.321-2.704c1.889-1.769,2.917-4.191,3.077-7.273c-0.007-1.744-0.492-3.167-1.451-4.273c-0.959-1.108-2.347-1.678-4.167-1.715c-0.937,0.011-1.882,0.265-2.841,0.755c-0.957,0.492-1.813,1.15-2.567,1.975c-0.184-0.779-0.537-1.426-1.062-1.937c-0.528-0.51-1.225-0.775-2.092-0.793c-1.444,0.09-2.714,0.741-3.805,1.958c-1.092,1.216-1.945,2.467-2.556,3.753C19.583,18.998,19.269,19.792,19.262,20.088L19.262,20.088z";
            break;

        default:
            throw "INVALID_DYNAMIC_DRAW";
    }

    dObj.setAttribute("d", dPath);
    return dObj;
}

function DrawCrescendo(length) {
    var cObj = $G.create("path");
    cObj.setAttribute("stroke", "#000");
    cObj.setAttribute("stroke-width", 1);
    cObj.setAttribute("d", "M0,8 " + length + ",0M0,8 " + length + ",16");
    return cObj;
}

function DrawDiminuendo(length) {
    var cObj = $G.create("path");
    cObj.setAttribute("stroke", "#000");
    cObj.setAttribute("stroke-width", 1);
    cObj.setAttribute("d", "M0,0 " + length + ",8M0,16 " + length + ",8");
    return cObj;
}

function DrawSlur(startX, startY, height, endX, endY) {
    var slurObj = $G.create("path");
    slurObj.setAttribute("stroke", "#000");
    slurObj.setAttribute("fill", "none");
    slurObj.setAttribute("stroke-width", 2);

    var trueHeight = height*2;

    slurObj.setAttribute("d", "M" + startX + "," + startY + 
        " Q" + ((endX - startX)/2).toString() + "," + trueHeight.toString() +
        " " + endX + "," + endY);
    //console.log(slurObj);
    
    
    /*for(var i = 0; i < 2; i++) {
        slurObj.setAttribute("d", "M 0 0 Q 100," + 22.5 + " 200,0");
        console.log(i + "," + slurObj.getBBox().height);    
    }*/
    
    return slurObj;
}

function DrawVolta(length, value, endFlag) {
    var voltaObj = $G.create("path"),
        voltaPath = "M0,0v-30l" + length + ",0";

    if(endFlag)
        voltaPath += "v30";

    voltaObj.setAttribute("stroke", "#000");
    voltaObj.setAttribute("fill", "none");
    voltaObj.setAttribute("stroke-width", 1);
    voltaObj.setAttribute("d", voltaPath);

    var voltaText = $G.create("text");

    voltaText.setAttribute("font-family", "times");
    voltaText.setAttribute("font-size", 25);
    voltaText.setAttribute("y", -7);
    voltaText.setAttribute("x", 5);
    voltaText.setAttribute("font-weight", "bold");
    voltaText.innerHTML = value + ".";

    var voltaGroup = $G.create("g");
    voltaGroup.appendChild(voltaObj);
    voltaGroup.appendChild(voltaText);

    return voltaGroup;
}

function DrawOctLine(length, up) {
    var octLineObj = $G.create("path"),
        octLinePath = "M0,0";

    if(up)
        octLinePath += "v30";
    else
        octLinePath += "v-30";

    octLinePath += "h-" + length;

    octLineObj.setAttribute("stroke", "#000");
    octLineObj.setAttribute("fill", "none");
    octLineObj.setAttribute("stroke-width", 1);
    octLineObj.setAttribute("d", octLinePath);
    octLineObj.setAttribute("stroke-dasharray", "7, 4");

    var octLineText = $G.create("text");

    octLineText.setAttribute("font-family", "times");
    octLineText.setAttribute("font-size", 25);
    octLineText.innerHTML = 8;
    
    octLineText.setAttribute("x", "-" + (length + 15).toString());

    if(up) octLineText.setAttribute("y", 38);
    else octLineText.setAttribute("y", -21);

    var octLineGroup = $G.create("g");
    octLineGroup.appendChild(octLineObj);
    octLineGroup.appendChild(octLineText);

    return octLineGroup;   
}

function DrawPedal(length, leftSlant, rightSlant) {
    var pedalObj = $G.create("path"),
        pedalPath = "M0,0",
        pedalLength = length;

    if(leftSlant) {
        pedalPath += "l5,18";
        pedalLength -= 5;
    }
    else
        pedalPath += "v18";

    if(rightSlant) {
        pedalLength -= 5;
        pedalPath += "h" + pedalLength + "l5,-18";
    }
    else 
        pedalPath += "h" + pedalLength + "v-18";

    pedalObj.setAttribute("stroke", "#000");
    pedalObj.setAttribute("fill", "none");
    pedalObj.setAttribute("stroke-width", 1);
    pedalObj.setAttribute("d", pedalPath);

    return pedalObj;
}

function DrawArticulation(articulation) {
    var artObj = $G.create("path"),
        artPath = "";

    switch(articulation){
        case "downbow":
            artPath = "M-8.482,19.998h-1.215L-9.694,0H9.697v20h-1.21V8.485H-8.485L-8.482,19.998z";
            break;

        case "fermata":
            artPath = "M-19.904,20.842C-19.881,14.227-14.477,0.013-0.068,0c13.041-0.012,19.911,12.738,19.973,20.842h-2.25c0.12-3.235-4.098-15.26-17.664-15.158C-10.11,5.76-17.902,13.546-17.772,20.842H-19.904zM2.753,17.921C2.753,19.622,1.375,21-0.325,21s-3.079-1.378-3.079-3.079c0-1.7,1.379-3.079,3.079-3.079S2.753,16.221,2.753,17.921z";
            break;

        case "harmonic":
            artObj = $G.create("circle");
            artObj.setAttribute("r", 5.2);
            artObj.setStrokeColor("#000");
            artObj.setStrokeWidth("3");
            artObj.setAttribute("cy", 5.2);
            artObj.fill("none");
            return artObj;

        case "pizzicato":
            artPath = "M0,0 v18 M-9,9 h18";
            artObj.setStrokeColor("#000");
            artObj.setStrokeWidth("2");
            break;

        case "snap_pizzicato":
            artPath = "M8.5,8.5C8.5,13.194,4.693,17,0,17c-4.694,0-8.5-3.806-8.5-8.5C-8.5,3.806-4.694,0,0,0C4.693,0,8.5,3.805,8.5,8.5M0,8.5v-15";
            artObj.setStrokeColor("#000");
            artObj.setStrokeWidth("3");
            artObj.fill("none");
            artObj.setAttribute("stroke-linecap", "round");
            break;

        case "staccatissimo":
            artPath = "M-3.436,0l3.478,9.5l3.393-9.498L-3.436,0z";
            break;

        case "staccato":
            artPath = "M2.5,2.5C2.5,3.88,1.382,5,0,5c-1.381,0-2.5-1.12-2.5-2.5S-1.381,0,0,0C1.382,0,2.5,1.12,2.5,2.5z";
            break;

        case "tenuto":
            artPath = "M-9,0h18";
            artObj.setStrokeColor("#000");
            artObj.setStrokeWidth("3");
            break;

        case "marcato":
            artPath = "M-12.178,0L12.2,7.757l-24.4,7.428l0.002-2.038L5.708,7.774l-17.892-5.766L-12.178,0z";
            break;

        case "strong_marcato":
            artPath = "M-7.592,24.378L0.165,0l7.428,24.4l-2.038-0.002L0.182,6.492l-5.766,17.892L-7.592,24.378z";
            break;

        case "upbow":
            artPath = "M7.595,0.002L-0.13,24.4L-7.595,0.002h2.04l5.397,17.904L5.585,0L7.595,0.002z";
            break;

        default:
            throw "INVALID_ARTICULATION_TO_DRAW;";
    }

    artObj.setAttribute("d", artPath);
    return artObj;
}

function DrawOrnament(ornament) {
    var ornObj = $G.create("path"),
        ornPath = "";

    switch(ornament) {

        case "trill":
            ornPath = "M-13.636,9.041l0.285-1.868h6.25c0.378-1.275,1.243-3.859,1.41-4.339C-5.043,2.318-2.265,0.725-0.538,0l-2.458,7.142l7.235-0.591c0.547,0.002,1.384-0.094,1.662,0.231C6.434,7.403,6.483,8.318,6.42,8.904c0.711-1.133,2.465-2.355,4.405-2.354c1.918,0.001,3.035,0.797,2.772,2.74c-0.172,1.263-0.827,1.961-1.858,1.937c-0.827-0.02-1.601-0.174-1.74-1.221C9.911,9.353,9.87,8.72,10.219,8.078C7.796,8.387,6.67,10.373,6.31,10.831c-0.431,0.547-2.423,7.529-3.635,11.293l-3.818,0.003l0.418-1.754c-1.464,0.762-3.536,1.874-4.625,2.324l-1.212-2.215c3.701-0.258,4.983-1.258,6.339-2.266c0.75-2.356,2.345-7.555,2.944-9.795l-6.212,0.373c-1.166,3.478-2.49,7.355-3.497,10.435c-0.083,0.253,0.043,1.222,0.427,1.252l1.212,2.215C-5.93,22.802-6.653,23.002-7.071,23c-0.543-0.002-3.439-0.188-3.896-3.028c-0.153-0.958,2.15-7.285,3.26-10.927L-13.636,9.041z";
            break;

        case "mordent":
            ornPath = "M-17.566,9.225l8.755-9.197l7.844,6.712L5.551,0l8.424,6.877l3.591-3.922v2.928l-7.65,8.424l-8.23-6.739L-4.392,14.5l-8.341-6.96l-4.833,5.331V9.225z";
            break;

        case "mordent_inverted":
            ornObj = $G.create("g");
            var mordObj = DrawOrnament("mordent"),
                lineObj = $G.create("path");
            ornObj.appendChild(mordObj);
            ornObj.appendChild(lineObj);
            lineObj.setAttribute("d", "M-0.5,-3v22h1v-23z");
            return ornObj;

        case "turn":
            ornPath = "M-6.542,12.188c-0.005,1.82-2.35,2.809-4.575,2.812c-5.525,0.004-7.892-3.022-7.905-6.521c0.01-3.83,3.783-8.468,9.073-8.479C-4.57,0.004-1.292,2.8,1.507,5.078c3.218,2.78,8.296,6.447,10.308,6.45c4.074,0,4.618-2.529,4.63-4.741c-0.015-1.553-0.558-3.603-2.756-3.583c-1.12-0.002-3.595,1.451-4.686,1.433c-2.6,0.007-2.706-1.381-2.701-2.095c0.013-2.012,2.921-2.536,4.931-2.539c3.75,0,7.809,2.527,7.788,7.526c0,5.556-4.725,7.476-8.685,7.464C4.859,15.007-0.371,10.656-2.131,9.377c-2.607-2.012-5.995-5.603-10.033-5.623c-2.333,0.028-4.366,3.079-4.354,4.961c-0.017,2.464,1.255,3.158,3.114,3.073c1.384-0.725,2.862-1.479,4.382-1.475C-7.63,10.313-6.554,10.864-6.542,12.188z";
            break;

        case "turn_inverted":
            ornObj = $G.create("g");
            var turnObj = DrawOrnament("turn"),
                lineObj = $G.create("path");
            ornObj.appendChild(turnObj);
            ornObj.appendChild(lineObj);
            lineObj.setAttribute("d", "M-0.5,-3v22h1v-23z");
            return ornObj;

        case "coda":
            ornPath = "M1.271,7.62v13.73h6.507c0.159-2.064-0.105-4.815-0.794-8.254c-0.423-1.375-1.11-2.619-2.063-3.73C3.968,8.201,2.751,7.62,1.271,7.62 M14.444,16.191c0.741,1.904,1.165,3.624,1.27,5.159h5.556v2.778h-5.556c-0.105,1.375-0.528,3.016-1.27,4.92c-0.687,1.904-1.508,3.492-2.46,4.762c-1.905,2.856-5.476,4.894-10.714,6.11V45h-3.254v-5.08c-4.921-1.217-8.333-3.254-10.238-6.11c-1.059-1.271-1.905-2.858-2.54-4.762c-0.741-1.905-1.138-3.545-1.19-4.92h-5.317V21.35h5.317c0.053-1.535,0.45-3.254,1.19-5.159c0.635-2.011,1.481-3.625,2.54-4.842C-10.317,8.387-6.905,6.27-1.984,5V0h3.254v5c5.238,1.27,8.809,3.387,10.714,6.349C12.937,12.566,13.757,14.18,14.444,16.191 M-7.302,13.095c-0.635,3.439-0.925,6.19-0.873,8.254h6.19V7.62c-1.429,0-2.566,0.581-3.413,1.745C-6.349,10.476-6.984,11.72-7.302,13.095M-8.174,24.127c-0.053,1.904,0.238,4.524,0.873,7.856c0.318,1.429,0.953,2.699,1.905,3.81c0.846,1.058,1.984,1.587,3.413,1.587V24.127H-8.174 M1.271,24.127v13.254c1.481,0,2.698-0.529,3.65-1.587c0.953-1.111,1.64-2.381,2.063-3.81c0.688-3.333,0.953-5.952,0.794-7.856H1.271";
            break;

        case "segno":
            ornPath = "M17.526,15.596c-0.206,1.853-1.364,2.831-3.474,2.934c-2.11-0.103-3.243-1.081-3.397-2.934c0.154-1.854,1.287-2.857,3.397-3.011C16.162,12.739,17.32,13.742,17.526,15.596 M11.658,0.463h3.86L2.316,18.529c2.934,1.441,5.713,3.191,8.338,5.25c2.625,2.11,4.015,4.813,4.169,8.106c-0.052,2.522-1.004,4.813-2.857,6.872C10.165,40.816,7.875,41.896,5.095,42c-1.904,0-3.654-0.438-5.25-1.313c-1.544-0.927-2.522-2.265-2.934-4.015c-0.051-1.029,0.283-1.956,1.004-2.779c0.721-0.772,1.647-1.132,2.779-1.081c1.854-0.155,3.063,0.901,3.629,3.165c0.258,1.184,0.644,1.93,1.158,2.239l1.699,0.386c2.007-0.206,3.165-1.621,3.474-4.246c-0.257-2.471-1.827-4.452-4.709-5.945c-2.831-1.492-5.431-2.754-7.798-3.783l-11.889,16.907h-3.784L-4.71,23.471c-2.934-1.441-5.713-3.217-8.338-5.328c-2.625-2.059-4.015-4.761-4.169-8.106c0.051-2.471,1.004-4.735,2.856-6.794C-12.507,1.235-10.191,0.155-7.412,0c1.853,0,3.578,0.438,5.173,1.313c1.595,0.927,2.574,2.264,2.934,4.015c0.104,1.08-0.231,2.007-1.003,2.779C-1.03,8.878-1.956,9.239-3.088,9.188c-1.904,0.206-3.139-0.85-3.706-3.166C-7,4.838-7.36,4.092-7.875,3.783l-1.621-0.386c-2.059,0.206-3.243,1.621-3.552,4.246c0.258,2.522,1.802,4.503,4.632,5.944l7.875,3.783L11.658,0.463 M-13.82,23.471c2.11,0.154,3.268,1.132,3.474,2.934c-0.206,1.853-1.364,2.857-3.474,3.011c-2.11-0.154-3.243-1.158-3.397-3.011C-17.063,24.603-15.93,23.625-13.82,23.471";
            break;

        case "tremolo":
            ornPath = "M-10,0l20,-10v5l-20,10v-5 M-10,8l20,-10v5l-20,10v-5 M-10,16l20,-10v5l-20,10v-5";
            break;

        case "simile":
            var circ1 = $G.createCircle(7,7.5,3),
                circ2 = $G.createCircle(24,22.5,3);

            ornPath = "M24,2 l-24,25 h8 l24,-25" + circ1 + circ2;
            break;
        case "":
            ornPath = "";
            break;

        default:
            throw "INVALID_ORNAMENT_TO_DRAW;";
    }

    ornObj.setAttribute("d", ornPath);
    return ornObj;
}

function DrawRepeatText(text) {
    var repeatText = $G.create("text");

    repeatText.setAttribute("font-family", "times");
    repeatText.setAttribute("font-size", 20);
    repeatText.innerHTML = text;

    var repeatBox = repeatText.getBBox();
    //console.log(repeatBox);
    repeatText.setAttribute("y", -repeatBox.y);
    repeatText.setAttribute("x", -repeatBox.width);    

    return repeatText;
}